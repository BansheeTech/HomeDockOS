import{d as T,u as H,r as d,o as M,K as P,c as $,a as u,b as _,e as o,T as B,h as L,g as A,l as b,f as e,I as y,O as q,n as i,_ as j,x as V,F as X,A as U,j as W,k as Y,N as J,t as K,m as Z,p as G,q as Q}from"./hdos_CKk5OUaXGoErGLONG9qzi.js";import{d as D,a as ee}from"./hdos_C8xfccjiB6DoCk5KlfHGx.js";import{S as te}from"./hdos_Eewg4ol9347H8vTuPUbzE.js";import{d as ae}from"./hdos_itWSuQ2oYLgMGq-Z_V6WL.js";import{d as se}from"./hdos_Cz8Dwn1iOWea_GVqOHEOb.js";import{d as ne}from"./hdos_BW-i5UGMkVNRYrcW_CmuW.js";import{d as oe}from"./hdos_DPhlMBAcwmj4N6C-RIU0v.js";import{A as re}from"./hdos_BHYbvoaqluhMgNtFFE2op.js";const F={width:24,height:24,body:'<path fill="currentColor" d="M2 5.27L3.28 4L20 20.72L18.73 22l-4.83-4.83l-2.61 2.61a5.003 5.003 0 0 1-7.07 0a5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24a2.982 2.982 0 0 0 4.24 0l2.62-2.6l-1.62-1.61c-.01.24-.11.49-.29.68c-.39.39-1.03.39-1.42 0A4.973 4.973 0 0 1 7.72 11L2 5.27m10.71-1.05a5.003 5.003 0 0 1 7.07 0a5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24a2.982 2.982 0 0 0-4.24 0l-3.33 3.33l-1.41-1.42l3.33-3.33m.7 4.95c.39-.39 1.03-.39 1.42 0a4.999 4.999 0 0 1 1.23 5.06l-1.78-1.77c-.05-.68-.34-1.35-.87-1.87a.973.973 0 0 1 0-1.42Z"/>'},le={class:"fixed inset-0 flex items-center justify-center z-50"},ce={class:"relative flex items-center justify-center w-56 h-56"},ie={class:"flex items-center justify-center backdrop-blur-xl rounded-full w-40 h-40 p-10 relative z-[40]"},de=100,ue=T({__name:"OrbitLoader",props:{isChecking:Boolean,isSuccess:Boolean,isError:Boolean,isHttps:Boolean},setup(a){const{themeClasses:s}=H(),p=d(null);let r;const f=d(0),g=d(0);let m=0,k=0,h;const I=()=>{m=Math.random()*40-20,k=Math.random()*40-20},l=()=>{f.value+=(m-f.value)*.1,g.value+=(k-g.value)*.1,requestAnimationFrame(l)},x=[],C=(t,c,v)=>{for(let n=0;n<de;n++)x.push({angle:Math.random()*2*Math.PI,radius:80+Math.random()*20,speed:.005+Math.random()*.03,size:.5+Math.random()*2})},w=(t,c,v)=>{t.clearRect(0,0,t.canvas.width,t.canvas.height),x.forEach(n=>{const O=c+Math.cos(n.angle)*n.radius,R=v+Math.sin(n.angle)*n.radius;t.beginPath(),t.arc(O,R,n.size,0,2*Math.PI),t.fillStyle="rgba(148, 163, 184, 0.7)",t.fill(),n.angle+=n.speed}),r=requestAnimationFrame(()=>w(t,c,v))};return M(()=>{const t=p.value,c=t.getContext("2d");t.width=256,t.height=256;const v=t.width/2,n=t.height/2;C(),w(c,v,n)}),P(()=>{cancelAnimationFrame(r)}),M(()=>{h=setInterval(I,500),l()}),P(()=>{clearInterval(h)}),(t,c)=>(u(),$("div",le,[_("div",ce,[_("canvas",{ref_key:"canvas",ref:p,class:"absolute inset-0 w-full h-full pointer-events-none z-50"},null,512),_("div",ie,[o(B,{name:"fade-scale",mode:"out-in"},{default:L(()=>[a.isChecking?(u(),A(e(y),{icon:e(ae),class:i([[e(s).appLoadingIcon],"text-6xl"]),style:q({transform:`translate(${f.value}px, ${g.value}px)`}),key:"loading"},null,8,["icon","class","style"])):a.isSuccess?(u(),A(e(y),{icon:e(se),class:i([[e(s).appLoadingIcon],"text-6xl"]),key:"success"},null,8,["icon","class"])):a.isError?(u(),A(re,{icons:[e(ne),e(F)],interval:1500,class:i([e(s).appLoadingIcon]),"icon-size":60,key:"error"},null,8,["icons","class"])):b("",!0)]),_:1}),o(B,{name:"https",mode:"out-in"},{default:L(()=>[a.isHttps?(u(),$("div",{class:i([[e(s).sslAdvisorBack],"px-4 py-1 absolute mt-52 rounded-full flex items-center"]),key:"https"},[o(e(y),{icon:e(oe),class:i([[e(s).sslAdvsisorIcon],"text-sm mr-1"])},null,8,["icon","class"]),_("span",{class:i([[e(s).sslAdvsisorIcon],"text-sm ml>1"])},"HTTPS",2),o(e(y),{icon:e(D),class:i([[e(s).sslAdvsisorIcon],"text-sm animate-spin ml-1"])},null,8,["icon","class"])],2)):b("",!0)]),_:1})])])]))}}),me=j(ue,[["__scopeId","data-v-b86a0d21"]]),pe={class:"flex items-center justify-cente text-white"},z=5,fe=T({__name:"App",setup(a){var w;const{themeClasses:s}=H(),p=d(((w=document.querySelector('meta[name="homedock_csrf_token"]'))==null?void 0:w.getAttribute("content"))||""),r=V("data-port");if(!r)throw new Error("Settings data is missing!");const{selectedPort:f,selectedPath:g}=r,m=d(!0),k=d(!1),h=d(!1),I=d(!1),l=d(null);let x=0;const C=async()=>{if(!f){m.value=!1,h.value=!0,l.value="Not valid port specified";return}try{const t=await ee.post("/api/check-port",{port:f},{headers:{"X-HomeDock-CSRF-Token":p.value}});if(t.data.available){const c=t.data.url.toLowerCase();I.value=c.startsWith("https://"),m.value=!1,k.value=!0,l.value=null,setTimeout(()=>{const v=t.data.url+(g?`/${g}`:""),n=window.open(v,"_self");n&&(n.opener=null)},1500);return}else throw new Error("Service not available.")}catch{x++,l.value=`Retrying ${x}/${z}`,x<z?setTimeout(C,3e3):(m.value=!1,h.value=!0,l.value=`App not available on ${f}`)}};return M(()=>{C()}),(t,c)=>(u(),$(Z,null,[o(X),o(U),o(W),o(Y),o(J),o(te,{numLines:9,"line-width":2,amplitude:500,"points-per-line":3}),_("div",{class:i([[e(s).back],"flex items-center justify-center relative p-3 overflow-hidden"])},[_("div",pe,[o(me,{isChecking:m.value,isSuccess:k.value,isError:h.value,isHttps:I.value},null,8,["isChecking","isSuccess","isError","isHttps"]),o(B,{name:"fade-slide",mode:"out-in"},{default:L(()=>[l.value?(u(),$("p",{key:0,class:i([[e(s).appErrorMessage],"flex items-center text-xs mt-4 text-center px-3 py-1 rounded-full z-10"])},[m.value?(u(),A(e(y),{key:0,icon:e(D),class:"text-xs mr-1 animate-spin"},null,8,["icon"])):b("",!0),h.value?(u(),A(e(y),{key:1,icon:e(F),class:"text-xs mr-1"},null,8,["icon"])):b("",!0),_("span",null,K(l.value),1)],2)):b("",!0)]),_:1})])],2)],64))}}),he=j(fe,[["__scopeId","data-v-e929c21a"]]);function N(a){var p;const s=(p=document.getElementById(a))==null?void 0:p.textContent;if(s)try{const r=atob(s);return JSON.parse(r)}catch(r){console.error(`Error parsing data from element #${a}:`,r)}else console.error(`Element with ID '${a}' not found or is empty.`);return null}const S=N("data-theme"),E=N("data-port");if(S&&E)try{const a=G(he);a.provide("data-theme",{selectedTheme:S.selected_theme,selectedBack:S.selected_back}),a.provide("data-port",{selectedPort:E.selected_port,selectedPath:E.selected_path});const s=Q();a.use(s),a.mount("#app-app-root")}catch(a){console.error("Error initializing the Vue app:",a)}else console.error("Required data (data-theme or data-initial) is missing or invalid.");
