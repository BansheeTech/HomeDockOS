import{d as j,u as F,r as h,o as L,L as D,c as _,a as r,b as o,e as a,T as S,i as $,h as C,m as x,f as e,I as b,P as W,n as c,g as T,z as X,p as P,_ as U,t as V,y as Y,F as Z,A as J,k as G,l as K,N as Q,q as ee,s as te}from"./hdos_CSz97728WTgNRGvRe3fzi.js";import{d as N,a as se}from"./hdos_DZUKIvxDT3Fqh7rzmD7rn.js";import{S as ae}from"./hdos_M7i-KIUZg7I1nqZtaquww.js";import{d as ne}from"./hdos_itWSuQ2oYLgMGq-Z_V6WL.js";import{d as oe}from"./hdos_Cz8Dwn1iOWea_GVqOHEOb.js";import{d as le}from"./hdos_BW-i5UGMkVNRYrcW_CmuW.js";import{d as re}from"./hdos_DPhlMBAcwmj4N6C-RIU0v.js";import{A as ie}from"./hdos_Cm_P0pFN-DrzSmCdYrTb4.js";const R={width:24,height:24,body:'<path fill="currentColor" d="M2 5.27L3.28 4L20 20.72L18.73 22l-4.83-4.83l-2.61 2.61a5.003 5.003 0 0 1-7.07 0a5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24a2.982 2.982 0 0 0 4.24 0l2.62-2.6l-1.62-1.61c-.01.24-.11.49-.29.68c-.39.39-1.03.39-1.42 0A4.973 4.973 0 0 1 7.72 11L2 5.27m10.71-1.05a5.003 5.003 0 0 1 7.07 0a5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24a2.982 2.982 0 0 0-4.24 0l-3.33 3.33l-1.41-1.42l3.33-3.33m.7 4.95c.39-.39 1.03-.39 1.42 0a4.999 4.999 0 0 1 1.23 5.06l-1.78-1.77c-.05-.68-.34-1.35-.87-1.87a.973.973 0 0 1 0-1.42Z"/>'},ce={width:24,height:24,body:'<path fill="currentColor" d="M10.76 8.69a.76.76 0 0 0-.76.76V20.9c0 .42.34.76.76.76c.19 0 .35-.06.48-.16l1.91-1.55l1.66 3.62c.13.27.4.43.69.43c.11 0 .22 0 .33-.08l2.76-1.28c.38-.18.56-.64.36-1.01L17.28 18l2.41-.45a.88.88 0 0 0 .43-.26c.27-.32.23-.79-.12-1.08l-8.74-7.35l-.01.01a.756.756 0 0 0-.49-.18M15 10V8h5v2h-5m-1.17-5.24l2.83-2.83l1.41 1.41l-2.83 2.83l-1.41-1.41M10 0h2v5h-2V0M3.93 14.66l2.83-2.83l1.41 1.41l-2.83 2.83l-1.41-1.41m0-11.32l1.41-1.41l2.83 2.83l-1.41 1.41l-2.83-2.83M7 10H2V8h5v2"/>'},ue={class:"fixed inset-0 flex items-center justify-center z-50"},de={class:"relative flex items-center justify-center w-56 h-56"},me={class:"flex items-center justify-center backdrop-blur-xl rounded-full w-40 h-40 p-10 relative z-[40] bg-slate-500/5"},pe=100,he=j({__name:"OrbitLoader",props:{isChecking:Boolean,isSuccess:Boolean,isError:Boolean,isHttps:Boolean},setup(t){const{themeClasses:n}=F(),d=h(null);let u;const f=h(0),k=h(0);let y=0,w=0,m;const A=()=>{y=Math.random()*40-20,w=Math.random()*40-20},v=()=>{f.value+=(y-f.value)*.1,k.value+=(w-k.value)*.1,requestAnimationFrame(v)},g=[],M=(s,i,p)=>{for(let l=0;l<pe;l++)g.push({angle:Math.random()*2*Math.PI,radius:80+Math.random()*20,speed:.005+Math.random()*.03,size:.5+Math.random()*2})},I=(s,i,p)=>{s.clearRect(0,0,s.canvas.width,s.canvas.height),g.forEach(l=>{const E=i+Math.cos(l.angle)*l.radius,O=p+Math.sin(l.angle)*l.radius;s.beginPath(),s.arc(E,O,l.size,0,2*Math.PI),s.fillStyle="rgba(148, 163, 184, 0.7)",s.fill(),l.angle+=l.speed}),u=requestAnimationFrame(()=>I(s,i,p))};return L(()=>{const s=d.value,i=s.getContext("2d");s.width=256,s.height=256;const p=s.width/2,l=s.height/2;M(),I(i,p,l)}),D(()=>{cancelAnimationFrame(u)}),L(()=>{m=setInterval(A,500),v()}),D(()=>{clearInterval(m)}),(s,i)=>(r(),_("div",ue,[o("div",de,[o("canvas",{ref_key:"canvas",ref:d,class:"absolute inset-0 w-full h-full pointer-events-none z-50"},null,512),o("div",me,[a(S,{name:"fade-scale",mode:"out-in"},{default:$(()=>[t.isChecking?(r(),C(e(b),{icon:e(ne),class:c([[e(n).appLoadingIcon],"text-6xl"]),style:W({transform:`translate(${f.value}px, ${k.value}px)`}),key:"loading"},null,8,["icon","class","style"])):t.isSuccess?(r(),C(e(b),{icon:e(oe),class:c([[e(n).appLoadingIcon],"text-6xl"]),key:"success"},null,8,["icon","class"])):t.isError?(r(),C(ie,{icons:[e(le),e(R)],interval:1500,class:c([e(n).appLoadingIcon]),"icon-size":60,key:"error"},null,8,["icons","class"])):x("",!0)]),_:1}),a(S,{name:"https",mode:"out-in"},{default:$(()=>[t.isHttps?(r(),_("div",{class:c([[e(n).sslAdvisorBack],"px-4 py-1 absolute mt-52 rounded-full flex items-center"]),key:"https"},[a(e(b),{icon:e(re),class:c([[e(n).sslAdvsisorIcon],"text-sm mr-1"])},null,8,["icon","class"]),o("span",{class:c([[e(n).sslAdvsisorIcon],"text-sm ml>1"])},"HTTPS",2),a(e(b),{icon:e(N),class:c([[e(n).sslAdvsisorIcon],"text-sm animate-spin ml-1"])},null,8,["icon","class"])],2)):x("",!0)]),_:1})])])]))}}),fe=T(he,[["__scopeId","data-v-8c9d9177"]]),ve={width:24,height:24,body:'<path fill="currentColor" d="M13 19h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-2H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-7v2M4 3h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1m5 4h1V5H9v2m0 8h1v-2H9v2M5 5v2h2V5H5m0 8v2h2v-2H5Z"/>'},ge={class:"fixed bottom-14 left-0 right-0 flex justify-center text-xs z-50"},xe={key:0,class:"p-2 bg-white rounded-xl shadow-lg flex items-center justify-center animate-bounce"},_e={class:"flex items-center space-x-2"},ye={class:"font-semibold"},be={class:"flex items-center space-x-2"},ke={key:0,class:"flex items-center space-x-1"},we={class:"font-semibold"},Me=j({__name:"StatusFooter",props:{isSuccess:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isHttps:{type:Boolean,default:!1},statusMessage:{type:String,default:"Initializing..."},port:{type:String,default:""}},setup(t){const{themeClasses:n}=F(),d=t,u=X(()=>d.isSuccess?"bg-green-600":d.isError?"bg-red-600":"bg-blue-600 animate-pulse");return(f,k)=>(r(),_(P,null,[a(S,{name:"logo-fade-slide",appear:""},{default:$(()=>[o("div",ge,[a(S,{name:"fade-bounce",appear:""},{default:$(()=>[t.isError?x("",!0):(r(),_("div",xe,[a(U,{draggable:"false",class:"w-9 h-9",src:"/images/logo_trans.svg"})]))]),_:1})])]),_:1}),o("div",{class:c([[e(n).statusBarAppScope],"fixed bottom-0 left-0 right-0 backdrop-blur-md h-8 flex items-center justify-between px-4 text-xs border-t z-50"])},[o("div",_e,[o("div",{class:c(["min-h-1.5 min-w-1.5 rounded-full",u.value])},null,2),o("span",ye,V(t.statusMessage),1)]),o("div",be,[t.port?(r(),_("div",ke,[a(e(b),{icon:e(ve),class:"text-xs min-h-3 min-w-3"},null,8,["icon"]),o("span",we,"Port: "+V(t.port),1)])):x("",!0)])],2)],64))}}),Se=T(Me,[["__scopeId","data-v-112de38c"]]),$e={class:"flex items-center justify-center text-white"},H=10,Ie=j({__name:"App",setup(t){var s;const{themeClasses:n}=F(),d=h(((s=document.querySelector('meta[name="homedock_csrf_token"]'))==null?void 0:s.getAttribute("content"))||""),u=Y("data-port");if(!u)throw new Error("Settings data is missing!");const{selectedPort:f,selectedPath:k}=u,y=h(!0),w=h(!1),m=h(!1),A=h(!1),v=h(null),g=h("Initializing...");let M=0;const I=async()=>{if(!f){y.value=!1,m.value=!0,v.value="Not valid port specified",g.value="Invalid app port";return}g.value="Checking app availability...";try{const i=await se.post("/api/check-port",{port:f},{headers:{"X-HomeDock-CSRF-Token":d.value}});if(i.data.available){const p=i.data.url.toLowerCase();A.value=p.startsWith("https://"),y.value=!1,w.value=!0,v.value=null,g.value="Connection established",setTimeout(()=>{const l=i.data.url+(k?`/${k}`:""),E=window.open(l,"_self");E&&(E.opener=null)},1500);return}else throw new Error("Service not available.")}catch{M++,v.value=`Retrying ${M}/${H}`,g.value=`Retrying ${M}/${H}`,M<H?setTimeout(I,3e3):(y.value=!1,m.value=!0,v.value=`App not available on ${f}`,g.value="Application unavailable")}};return L(()=>{I()}),(i,p)=>(r(),_(P,null,[a(Z),a(J),a(G),a(K),a(Q),a(ae,{numLines:12,"line-width":3,amplitude:600,"points-per-line":2}),o("div",{class:c([[e(n).back],"flex flex-col items-center justify-center relative p-3 overflow-hidden"])},[o("div",$e,[a(fe,{isChecking:y.value,isSuccess:w.value,isError:m.value,isHttps:A.value},null,8,["isChecking","isSuccess","isError","isHttps"])]),a(S,{name:"fade-slide",mode:"out-in"},{default:$(()=>[v.value?(r(),_("p",{key:0,class:c([[e(n).appErrorMessage],"flex items-center text-xs mt-4 text-center px-3 py-1 rounded-full z-10"])},[y.value?(r(),C(e(b),{key:0,icon:e(N),class:"text-xs mr-1 animate-spin"},null,8,["icon"])):x("",!0),m.value?(r(),C(e(b),{key:1,icon:e(R),class:"text-xs mr-1"},null,8,["icon"])):x("",!0),o("span",null,V(v.value),1)],2)):x("",!0)]),_:1}),a(S,{name:"fade-slide",mode:"out-in"},{default:$(()=>[m.value?(r(),_(P,{key:0},[m.value?(r(),_("a",{key:0,target:"_blank",href:"https://docs.homedock.cloud/troubleshooting/app-not-available/",class:c([[e(n).appDocsMessage],"flex items-center text-xs mt-2 text-center px-3 py-1 rounded-full z-50 transition duration-300"]),style:{position:"relative","pointer-events":"auto"}},[a(e(b),{icon:e(ce),class:"text-xs mr-1"},null,8,["icon"]),p[0]||(p[0]=o("span",null,"Why is this app not loading?",-1))],2)):x("",!0)],64)):x("",!0)]),_:1})],2),a(Se,{isSuccess:w.value,isError:m.value,statusMessage:g.value,port:String(e(f))},null,8,["isSuccess","isError","statusMessage","port"])],64))}}),Ce=T(Ie,[["__scopeId","data-v-0056df61"]]);function q(t){var d;const n=(d=document.getElementById(t))==null?void 0:d.textContent;if(n)try{const u=atob(n);return JSON.parse(u)}catch(u){console.error(`Error parsing data from element #${t}:`,u)}else console.error(`Element with ID '${t}' not found or is empty.`);return null}const z=q("data-theme"),B=q("data-port");if(z&&B)try{const t=ee(Ce);t.provide("data-theme",{selectedTheme:z.selected_theme,selectedBack:z.selected_back}),t.provide("data-port",{selectedPort:B.selected_port,selectedPath:B.selected_path});const n=te();t.use(n),t.mount("#app-app-root")}catch(t){console.error("Error initializing the Vue app:",t)}else console.error("Required data (data-theme or data-initial) is missing or invalid.");
