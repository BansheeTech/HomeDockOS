import{d as R,u as Q,M as g,a as D,c as H,b as _,h as B,f,p as P,n as I,t as b,e as U,I as Y,i as ee,T as te,g as ae,r as m,o as V,aa as S,y as se}from"./hdos_BHoRfRHzwGHyMNYF-tERa.js";import{P as N}from"./hdos_CSmhoTEkBT_Io0qrUZo_K.js";import{d as oe,a as re,b as ne,c as le,e as ce}from"./hdos_DcE1kgsZs3yZddlR_kFC-.js";import{d as de}from"./hdos_Cwa-JSzpVopKKmwf_y-0U.js";import{d as ue}from"./hdos_1HDmSmmnG1vQSsX0dhKsO.js";import{a as y}from"./hdos_tex53LNdipWkyC6vc2o19.js";const ie={class:"relative flex items-center"},pe={key:1,class:"absolute right-0 top-5 text-[8px] flex flex-col leading-none items-center"},ve={class:"flex flex-col justify-center"},fe={class:"text-[28px] font-normal relative"},me={class:"flex flex-col text-xs font-normal mt-8 h-5"},he=R({__name:"Stats",props:{showProgressBar:{type:Boolean,required:!1,default:!1},title:{type:String,required:!0},value:{type:[String,Number],required:!0},nValue:{type:String,required:!0},nValue2:{type:String,required:!1},downText:{type:[String,Number],required:!1,default:null},mdi_icon:{type:[String,Object],required:!0},progressText:{type:[String,Number],required:!1,default:null},progressTextSecond:{type:String,required:!1,default:null}},setup(d){const{themeClasses:a}=Q();function t(r){const n=parseInt(r.slice(1),16),l=n>>16&255,e=n>>8&255,s=n&255;return[l,e,s]}function v(r,n,l){const e=r.slice();for(let s=0;s<3;s++)e[s]=Math.round(e[s]+l*(n[s]-r[s]));return`rgb(${e.join(",")})`}const i=d,c=g(()=>i.showProgressBar),p=g(()=>{let r,n,l;const e=Number(i.value);return e<=40?(r=t("#D0E1f2"),n=t("#002FFF"),l=e/40):e<=52?(r=t("#002FFF"),n=t("#32A600"),l=(e-40)/12):e<=62?(r=t("#32A600"),n=t("#D6BA00"),l=(e-52)/10):e<=70?(r=t("#D6BA00"),n=t("#FF0000"),l=(e-62)/8):(r=t("#FF0000"),n=t("#000000"),l=(e-70)/30),v(r,n,l)});return(r,n)=>(D(),H("div",{class:I([[f(a).statHolder],"flex flex-col rounded-xl mr-6 min-w-36 min-h-20 p-2 border overflow-hidden transition-all duration-300 ease-in-out"])},[_("div",ie,[c.value?(D(),B(f(N),{key:0,trailColor:f(a).antProgressTrail,class:"absolute -right-1",type:"dashboard",gapPosition:"right",strokeWidth:14,showInfo:!1,size:22,percent:Number(d.value),"stroke-color":p.value,status:"active"},null,8,["trailColor","percent","stroke-color"])):P("",!0),d.progressText||d.progressTextSecond?(D(),H("div",pe,[_("span",{class:I([[f(a).statSubtleText],"font-bold"])},b(d.progressText),3),_("span",{class:I([f(a).statSubtleText])},b(d.progressTextSecond),3)])):P("",!0),U(f(Y),{class:I([[f(a).statSubtleText],"h-4 w-4"]),icon:d.mdi_icon},null,8,["class","icon"]),_("span",{class:I([[f(a).statSubtleText],"ml-1 text-xs font-normal"])},b(d.title),3)]),_("div",ve,[_("div",fe,[U(te,{name:"fade"},{default:ee(()=>[(D(),H("div",{class:"absolute inset-0 flex items-baseline justify-start space-x-1",key:d.value},[_("span",{class:I([f(a).statInnerText])},b(d.value),3),_("span",{class:I([[f(a).statInnerText],"text-xs"])},b(d.nValue),3)]))]),_:1})]),_("div",me,[c.value?(D(),B(f(N),{key:0,trailColor:f(a).antProgressTrail,class:"relative",showInfo:!1,size:10,percent:Number(d.value),"stroke-color":p.value,status:"active"},null,8,["trailColor","percent","stroke-color"])):(D(),H("span",{key:1,class:I([[f(a).statUnprogressText],"font-semibold mt-1"])},b(d.downText)+b(d.nValue2),3))])])],2))}}),C=ae(he,[["__scopeId","data-v-ea54f921"]]),ge={width:24,height:24,body:'<path fill="currentColor" d="M12 16c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-12c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2M6 16c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m12 12c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2Z"/>'};function we(d,a=3e3,t,v=6e4){const i=m(t);let c=a,p=t,r=0,n;async function l(){try{const e=await y.get("/thread/update_cpu_temp",{headers:{"X-HomeDock-CSRF-Token":d}});if(e.data&&typeof e.data.cpu_temp<"u"){let s;if(typeof e.data.cpu_temp=="number")s=e.data.cpu_temp.toFixed(1);else if(typeof e.data.cpu_temp=="string"&&e.data.cpu_temp!=="")s=e.data.cpu_temp;else{console.warn("Invalid CPU temperature data received:",e.data);return}s!==p?(c=a,r=0):(r++,c=Math.min(a*Math.pow(2,r),v)),p=s,i.value=s,clearInterval(n),n=setInterval(l,c)}else console.warn("Invalid CPU temperature data structure:",e.data)}catch(e){console.error("Failed to fetch CPU temperature:",e)}}return V(()=>{n=setInterval(l,c),S(()=>{clearInterval(n)})}),i}function ye(d,a=3e3,t,v=6e4){const i=m(t);let c=a,p=t,r=0,n;async function l(){try{const e=await y.get("/thread/update_cpu_usage",{headers:{"X-HomeDock-CSRF-Token":d}});if(e.data&&typeof e.data.cpu_usage<"u"){let s;if(typeof e.data.cpu_usage=="number")s=e.data.cpu_usage.toFixed(1);else if(typeof e.data.cpu_usage=="string"&&e.data.cpu_usage!=="")s=e.data.cpu_usage;else{console.warn("Invalid CPU usage data received:",e.data);return}s!==p?(c=a,r=0):(r++,c=Math.min(a*Math.pow(2,r),v)),p=s,i.value=s,clearInterval(n),n=setInterval(l,c)}else console.warn("Invalid CPU usage data structure:",e.data)}catch(e){console.error("Failed to fetch CPU usage:",e)}}return V(()=>{n=setInterval(l,c),S(()=>{clearInterval(n)})}),i}function ke(d,a=3e3,t,v=6e4){const i=m(t);let c=a,p=t,r=0,n;async function l(){try{const e=await y.get("/thread/update_ram_usage",{headers:{"X-HomeDock-CSRF-Token":d}});if(e.data&&typeof e.data.ram_usage<"u"){let s;if(typeof e.data.ram_usage=="number")s=e.data.ram_usage.toFixed(1);else if(typeof e.data.ram_usage=="string"&&e.data.ram_usage!=="")s=e.data.ram_usage;else{console.warn("Invalid RAM usage data received:",e.data);return}s!==p?(c=a,r=0):(r++,c=Math.min(a*Math.pow(2,r),v)),p=s,i.value=s,clearInterval(n),n=setInterval(l,c)}else console.warn("Invalid RAM usage data structure:",e.data)}catch(e){console.error("Failed to fetch RAM usage:",e)}}return V(()=>{n=setInterval(l,c),S(()=>{clearInterval(n)})}),i}function xe(d,a=3e3,t,v=6e4){const i=m(t);let c=a,p=t,r=0,n;async function l(){try{const e=await y.get("/thread/update_disk_usage",{headers:{"X-HomeDock-CSRF-Token":d}});if(e.data&&typeof e.data.disk_usage<"u"){let s;if(typeof e.data.disk_usage=="number")s=e.data.disk_usage.toFixed(1);else if(typeof e.data.disk_usage=="string"&&e.data.disk_usage!=="")s=e.data.disk_usage;else{console.warn("Invalid hard disk usage data received:",e.data);return}s!==p?(c=a,r=0):(r++,c=Math.min(a*Math.pow(2,r),v)),p=s,i.value=s,clearInterval(n),n=setInterval(l,c)}else console.warn("Invalid hard disk usage data structure:",e.data)}catch(e){console.error("Failed to fetch hard disk usage:",e)}}return V(()=>{n=setInterval(l,c),S(()=>{clearInterval(n)})}),i}function Te(d,a=3e3,t,v=6e4){const i=m(t);let c=a,p=t,r=0,n;async function l(){try{const e=await y.get("/thread/update_external_disk_usage",{headers:{"X-HomeDock-CSRF-Token":d}});if(e.data&&typeof e.data.usage<"u"){let s;if(typeof e.data.usage=="number")s=e.data.usage.toFixed(1);else if(typeof e.data.usage=="string"&&e.data.usage!=="")s=e.data.usage;else{console.warn("Invalid external disk usage data received:",e.data);return}s!==p?(c=a,r=0):(r++,c=Math.min(a*Math.pow(2,r),v)),p=s,i.value=s,clearInterval(n),n=setInterval(l,c)}else console.warn("Invalid external disk usage data structure:",e.data)}catch(e){console.error("Failed to fetch external disk usage:",e)}}return V(()=>{n=setInterval(l,c),S(()=>{clearInterval(n)})}),i}function _e(d,a=3e3,t,v,i=6e4){const c=m(t),p=m(v);let r=a,n=t,l=0,e,s=a,k=v,w=0,h;async function x(){try{const o=await y.get("/thread/downloaded_data",{headers:{"X-HomeDock-CSRF-Token":d}});if(o.data&&typeof o.data.download_data<"u"){let u;if(typeof o.data.download_data=="number")u=o.data.download_data.toFixed(2);else if(typeof o.data.download_data=="string"&&o.data.download_data!=="")u=o.data.download_data;else{console.warn("Invalid download data received:",o.data);return}u!==n?(r=a,l=0):(l++,r=Math.min(a*Math.pow(2,l),i)),n=u,c.value=u,clearInterval(e),e=setInterval(x,r)}else console.warn("Invalid download data structure:",o.data)}catch(o){console.error("Failed to fetch download data:",o)}}async function T(){try{const o=await y.get("/thread/uploaded_data",{headers:{"X-HomeDock-CSRF-Token":d}});if(o.data&&typeof o.data.upload_data<"u"){let u;if(typeof o.data.upload_data=="number")u=o.data.upload_data.toFixed(2);else if(typeof o.data.upload_data=="string"&&o.data.upload_data!=="")u=o.data.upload_data;else{console.warn("Invalid upload data received:",o.data);return}u!==k?(s=a,w=0):(w++,s=Math.min(a*Math.pow(2,w),i)),k=u,p.value=u,clearInterval(h),h=setInterval(T,s)}else console.warn("Invalid upload data structure:",o.data)}catch(o){console.error("Failed to fetch upload data:",o)}}return V(()=>{e=setInterval(x,r),h=setInterval(T,s),S(()=>{clearInterval(e),clearInterval(h)})}),{downloadData:c,uploadData:p}}function De(d,a=3e3,t,v,i=6e4){const c=m(t),p=m(v);let r=a,n=t,l=0,e,s=a,k=v,w=0,h;async function x(){try{const o=await y.get("/thread/installed_containers",{headers:{"X-HomeDock-CSRF-Token":d}});if(o.data&&typeof o.data.containers<"u"){let u=o.data.containers.toString();u!==n?(r=a,l=0):(l++,r=Math.min(a*Math.pow(2,l),i)),n=u,c.value=u,clearInterval(e),e=setInterval(x,r)}else console.warn("Invalid total containers data structure:",o.data)}catch(o){console.error("Failed to fetch total containers:",o)}}async function T(){try{const o=await y.get("/thread/active_containers",{headers:{"X-HomeDock-CSRF-Token":d}});if(o.data&&typeof o.data.active_containers<"u"){let u=o.data.active_containers.toString();u!==k?(s=a,w=0):(w++,s=Math.min(a*Math.pow(2,w),i)),k=u,p.value=u,clearInterval(h),h=setInterval(T,s)}else console.warn("Invalid active containers data structure:",o.data)}catch(o){console.error("Failed to fetch active containers:",o)}}return V(()=>{e=setInterval(x,r),h=setInterval(T,s),S(()=>{clearInterval(e),clearInterval(h)})}),{totalContainers:c,activeContainers:p}}function Ie(d,a=3e3,t,v,i=6e4){const c=m(t),p=m(v);let r=a,n=t,l=0,e,s=a,k=v,w=0,h;async function x(){try{const o=await y.get("/thread/system_uptime",{headers:{"X-HomeDock-CSRF-Token":d}});if(o.data&&typeof o.data.uptime=="string"){const u=o.data.uptime;u!==n?(r=a,l=0):(l++,r=Math.min(a*Math.pow(2,l),i)),n=u,c.value=u,clearInterval(e),e=setInterval(x,r)}else console.warn("Invalid system uptime data received:",o.data)}catch(o){console.error("Failed to fetch system uptime:",o)}}async function T(){try{const o=await y.get("/thread/homedock_uptime",{headers:{"X-HomeDock-CSRF-Token":d}});if(o.data&&typeof o.data.uptime=="string"){const u=o.data.uptime;u!==k?(s=a,w=0):(w++,s=Math.min(a*Math.pow(2,w),i)),k=u,p.value=u,clearInterval(h),h=setInterval(T,s)}else console.warn("Invalid HomeDock uptime data received:",o.data)}catch(o){console.error("Failed to fetch HomeDock uptime:",o)}}return V(()=>{e=setInterval(x,r),h=setInterval(T,s),S(()=>{clearInterval(e),clearInterval(h)})}),{systemUptime:c,homeDockUptime:p}}const Ce={class:"flex flex-col"},Ue={class:"flex mb-2 justify-between items-start overflow-x-auto"},Ne=R({__name:"StatsLoad",props:{csrfToken:{type:String,required:!0}},setup(d){const a=d,t=se("data-initial");if(!t)throw new Error("Initial data is missing!");const v=we(a.csrfToken,3e3,t.cpuTemp),i=g(()=>v.value||t.cpuTemp),c=m(t.cpuGhz),p=ye(a.csrfToken,3e3,t.cpuUsage),r=g(()=>p.value||t.cpuUsage),n=m(t.cpuCores),l=ke(a.csrfToken,3e3,t.ramUsage),e=g(()=>l.value||t.ramUsage),s=m(t.totalRam),k=xe(a.csrfToken,3e3,t.hardDiskUsage),w=g(()=>k.value||t.hardDiskUsage),h=m(t.hardDiskTotal),x=m(t.externalDefaultDisk),T=Te(a.csrfToken,3e3,t.externalDiskUsage),o=g(()=>T.value||t.externalDiskUsage),u=m(t.externalDiskTotal),M=g(()=>{const F=Number(u.value);return isNaN(F)?"0":F>900?(F/1024).toFixed(2):F.toString()}),A=g(()=>Number(u.value)>900?"TBs":"GBs"),$=m(t.interfaceName),{downloadData:G,uploadData:X}=_e(a.csrfToken,3e3,t.downloadData,t.uploadData),q=g(()=>G.value||t.downloadData),E=g(()=>X.value||t.uploadData),{totalContainers:j,activeContainers:z}=De(a.csrfToken,3e3,t.totalContainers,t.activeContainers),Z=g(()=>j.value||t.totalContainers),L=g(()=>z.value||t.activeContainers),{systemUptime:O,homeDockUptime:W}=Ie(a.csrfToken,3e3,t.uptimeData,t.startTime),J=g(()=>O.value||t.uptimeData),K=g(()=>W.value||t.startTime);return(F,Ve)=>(D(),H("div",Ce,[_("div",Ue,[Number(i.value)!==0?(D(),B(C,{key:0,showProgressBar:!0,title:"CPU Temp",progressText:c.value,progressTextSecond:"GHz",value:i.value,nValue:"c",mdi_icon:f(oe)},null,8,["progressText","value","mdi_icon"])):P("",!0),U(C,{showProgressBar:!0,title:"CPU Usage",progressText:n.value,progressTextSecond:"core",value:r.value,nValue:"%",mdi_icon:f(de)},null,8,["progressText","value","mdi_icon"]),U(C,{showProgressBar:!0,title:"RAM Usage",progressText:s.value,progressTextSecond:"GBs",value:e.value,nValue:"%",mdi_icon:f(re)},null,8,["progressText","value","mdi_icon"]),U(C,{showProgressBar:!0,title:"System",progressText:h.value,progressTextSecond:"GBs",value:w.value,nValue:"%",mdi_icon:f(ne)},null,8,["progressText","value","mdi_icon"]),x.value!=="disabled"?(D(),B(C,{key:1,showProgressBar:!0,title:"External",progressText:M.value,progressTextSecond:A.value,value:o.value,nValue:"%",mdi_icon:f(ue)},null,8,["progressText","progressTextSecond","value","mdi_icon"])):P("",!0),U(C,{showProgressBar:!1,title:$.value,value:q.value,nValue:"GBs",nValue2:"GBs",downText:E.value,mdi_icon:f(le)},null,8,["title","value","downText","mdi_icon"]),U(C,{title:"Apps",value:Z.value,nValue:"total",nValue2:" running",downText:L.value,mdi_icon:f(ge)},null,8,["value","downText","mdi_icon"]),U(C,{title:"Uptime",value:J.value,nValue:"h",nValue2:"h",downText:K.value,mdi_icon:f(ce)},null,8,["value","downText","mdi_icon"])])]))}}),Re={width:24,height:24,body:'<path fill="currentColor" d="M6 4h12v1h3v2h-3v2h3v2h-3v2h3v2h-3v2h3v2h-3v1H6v-1H3v-2h3v-2H3v-2h3v-2H3V9h3V7H3V5h3V4m5 11v3h1v-3h-1m2 0v3h1v-3h-1m2 0v3h1v-3h-1Z"/>'};export{Ne as _,Re as a,ge as d};
