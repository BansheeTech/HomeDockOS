import{j as Ve,q as He,r as x,w as Ue,d as H,B as je,v as h,z as u,y as l,G as i,E as m,F as S,K as Ae,x as n,u as o,H as y,M as v,Z as U,S as le,R as ie,U as ce,D as q,I as de,J as ue,T as Pe,_ as Ee}from"./hdos_DuBnkrVJAYe4bVQCnyzO3.js";import{d as pe,a as C}from"./hdos_C-gUdRjisEVUw9SLex2md.js";import{g as Re,A as Ge,B as j,C as me,D as ve,E as d,F as J,G as A,H as fe,I as he,J as Q,K as we,L as Z,M as X,N as Oe}from"./hdos_A5Tqz841J81UJBrYOEfvE.js";import{u as qe}from"./hdos_B84vRs6dA_3wlTSONYBpR.js";import{d as ge}from"./hdos_DPhlMBAcwmj4N6C-RIU0v.js";import{_ as Je}from"./hdos_BfvLfy5j6Q-DsTNqWBvo3.js";import{a as Qe,P as xe}from"./hdos_DCGTf4ELAY5FMYHdpQPJD.js";import{c as K,S as Xe}from"./hdos_CgKpwX7rKMbWR6OvWl7gr.js";import{B as P}from"./hdos_Dd62fMeaFEIkHwoyedZUA.js";import{j as f}from"./hdos_DTYMnJambC8MCE9MKD0Mf.js";import{b as Ke}from"./hdos_CWan9RDkmdq6JXNlIWTWQ.js";import{A as We}from"./hdos_yBHX9CCIN8ZwCQe8Lr7qN.js";import{$ as Ye}from"./hdos_C5CSnwXRiVPNY8ZK55Tzq.js";import"./hdos_Dz3aTMQqM4LnOlKzV3COc.js";import"./hdos_itWSuQ2oYLgMGq-Z_V6WL.js";import"./hdos_CE1G-McAXm7G2-tH-xmrF.js";import"./hdos_DCQvziD-0BGtLQC-jPv6N.js";import"./hdos_CJoaCRc7PMIr83ndc1bSY.js";import"./hdos_g4-b1M3lq1g_cs3ZI4ZMm.js";import"./hdos_gvpE9iC67Bq5eLalP6XFd.js";import"./hdos_DAFEaJgKRFgS9jVTed-RZ.js";import"./hdos_CnFJj8-KQaAzE_yM554iz.js";import"./hdos_DH2bmQPOG-6TFWsm7AkTh.js";import"./hdos_DxlAeU3VDfUt2GormX_Cd.js";import"./hdos_CVhwAoJtugswToG1kGrgh.js";import"./hdos_gWbd1bXcsUaN-4NjpQYml.js";import"./hdos_B77dz_MJAL3Mw2zqWMfq3.js";import"./hdos_D63Tfrq7hZ9D-jbqbBA6V.js";const ye={width:24,height:24,body:'<path fill="currentColor" d="M10 4h4v9l3.5-3.5l2.42 2.42L12 19.84l-7.92-7.92L6.5 9.5L10 13V4Z"/>'},Ne={width:24,height:24,body:'<path fill="currentColor" d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12c5.16-1.26 9-6.45 9-12V5l-9-4m0 6c1.4 0 2.8 1.1 2.8 2.5V11c.6 0 1.2.6 1.2 1.3v3.5c0 .6-.6 1.2-1.3 1.2H9.2c-.6 0-1.2-.6-1.2-1.3v-3.5c0-.6.6-1.2 1.2-1.2V9.5C9.2 8.1 10.6 7 12 7m0 1.2c-.8 0-1.5.5-1.5 1.3V11h3V9.5c0-.8-.7-1.3-1.5-1.3Z"/>'},_e={width:24,height:24,body:'<path fill="currentColor" d="M16 8c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V10c0-1.1.9-2 2-2h9V6c0-1.7-1.3-3-3-3S7 4.3 7 6H5c0-2.8 2.2-5 5-5s5 2.2 5 5v2h1m-6 9c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2m12-4h-2V7h2v6m0 4h-2v-2h2v2Z"/>'},et={width:24,height:24,body:'<path fill="currentColor" d="M3 11h8V3H3m0 18h8v-8H3m10 8h8v-8h-8m0-10v8h8V3"/>'},tt={width:24,height:24,body:'<path fill="currentColor" d="M9 5v4h12V5M9 19h12v-4H9m0-1h12v-4H9M4 9h4V5H4m0 14h4v-4H4m0-1h4v-4H4v4Z"/>'},ot={width:24,height:24,body:'<path fill="currentColor" d="M19 17h3l-4 4l-4-4h3V3h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"/>'},at={width:24,height:24,body:'<path fill="currentColor" d="M19 7h3l-4-4l-4 4h3v14h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"/>'},st={width:24,height:24,body:'<path fill="currentColor" d="m12 2l4 4h-3v7.85l6.53 3.76L21 15.03l1.5 5.47l-5.5 1.46l1.53-2.61L12 15.58l-6.53 3.77L7 21.96L1.5 20.5L3 15.03l1.47 2.58L11 13.85V6H8l4-4Z"/>'},nt={class:"app-dropzone flex flex-col h-full overflow-hidden"},rt={class:"flex-1 overflow-auto p-5"},lt={class:"mb-4"},it={class:"flex items-center align-center justify-center flex-col py-6"},ct={class:"ant-upload-drag-icon"},dt={key:0,class:"text-xs mt-2"},ut={class:"mt-2 space-y-2"},pt={class:"dropzone-controls-container flex flex-col gap-2 items-start justify-between"},mt={class:"dropzone-search-wrapper flex-1 min-w-0 w-full"},vt={class:"dropzone-actions-wrapper flex items-center gap-2 mt-0.5 w-full"},ft=["title"],ht={class:"flex items-center justify-start text-[10px]"},wt={key:0,class:"ml-0.5"},gt={key:0,class:"flex justify-center items-center py-8"},xt={key:"grid-view",class:"dropzone-grid grid gap-4"},yt={class:"absolute right-2 top-2 flex items-center gap-1"},_t={class:"mt-2 w-full"},St=["title"],kt={class:"flex items-center justify-center gap-1 mt-1"},bt=["title"],Ct={class:"absolute -bottom-1 left-0 right-0 px-1"},Dt={class:"mt-3 flex justify-center"},$t={class:"flex items-center justify-center whitespace-nowrap"},zt={key:"list-view",class:"space-y-2"},Zt={class:"flex-1 min-w-0"},Ft={class:"flex items-center gap-2"},Tt=["title"],Mt={class:"flex items-center gap-1"},Lt={class:"flex items-center gap-2 mt-1 text-xs"},Bt=["title"],It={key:0,class:"absolute -bottom-1 left-0 right-0 px-1"},Vt={class:"flex items-center gap-2 flex-shrink-0"},Ht={class:"flex items-center justify-center gap-1 whitespace-nowrap"},Ut={class:"space-y-2.5 max-w-sm"},jt={class:"flex items-center gap-2"},At=3,Pt=Ve({__name:"AppDropzone",setup(Et){const W=e=>{if(e.endsWith("/"))return ve;const a=e.split(".").pop()?.toLowerCase();return Se[a||"unknown"]||Oe},Se={folder:ve,txt:X,md:X,pdf:X,png:Z,jpg:Z,jpeg:Z,gif:Z,psd:Z,webp:Z,mp4:we,mkv:we,mp3:Q,wav:Q,flac:Q,zip:he,rar:he,doc:fe,docx:fe,pptx:A,ppt:A,ppsx:A,pps:A,xlsx:J,xls:J,csv:J,exe:d,app:d,sh:d,js:d,ts:d,py:d,c:d,cpp:d,h:d,hpp:d,cs:d,java:d,php:d,html:d,css:d,json:d,xml:d,sql:d,rs:d},L=Re(),{themeClasses:r}=He(),F=Ge(),ke=qe(),w=x([]),_=x(""),B=x([]),T=x({}),M=x({}),g=x({}),c=x({});let k={};const E=x([]),R=x(0),D=x("grid"),$=x("name"),b=x("asc"),be=()=>{try{const e=localStorage.getItem("dropzoneStatus");if(e){const a=JSON.parse(e);D.value=a.viewMode||"grid",$.value=a.sortBy||"name",b.value=a.sortDirection||"asc"}}catch(e){console.error("Failed to load dropzone preferences:",e)}},Ce=()=>{try{const e={viewMode:D.value,sortBy:$.value,sortDirection:b.value};localStorage.setItem("dropzoneStatus",JSON.stringify(e))}catch(e){console.error("Failed to save dropzone preferences:",e)}};Ue([D,$,b],()=>{Ce()});const Y=e=>{D.value=e},De=()=>{b.value=b.value==="asc"?"desc":"asc"},N=e=>{if(!e)return"";const a=new Date,t=typeof e=="number"?new Date(e*1e3):new Date(e),s=Math.floor((a.getTime()-t.getTime())/1e3);return s<30?"Now":s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:s<2592e3?`${Math.floor(s/86400)}d ago`:s<31536e3?`${Math.floor(s/2592e3)}mo ago`:`${Math.floor(s/31536e3)}y ago`},ee=e=>e?(typeof e=="number"?new Date(e*1e3):new Date(e)).toLocaleString():"",te=async()=>{if(R.value>=At||E.value.length===0)return;const e=E.value.shift();if(e){R.value++,F.startUpload({uid:e.file.uid,name:e.file.name,size:e.file.size});try{await ze(e.file,e.onProgress),B.value=B.value.filter(a=>a.uid!==e.file.uid),F.completeUpload(e.file.uid),await I(),e.onSuccess&&e.onSuccess(null,e.file)}catch(a){F.cancelUpload(e.file.uid),e.onError&&e.onError(a)}finally{R.value--,te()}}},$e=async({file:e,onSuccess:a,onError:t,onProgress:s})=>{const p=e;F.addToQueue({uid:p.uid,name:p.name,size:p.size}),E.value.push({file:p,onProgress:s,onSuccess:a,onError:t}),te()},oe=e=>{if(!e.modified)return!1;const a=new Date,t=typeof e.modified=="number"?new Date(e.modified*1e3):new Date(e.modified);return(a.getTime()-t.getTime())/(1e3*60*60)<1},ze=async(e,a)=>{const t=new FormData;t.append("file",e);try{const s=await C.post("/api/upload_file",t,{headers:{"X-HomeDock-CSRF-Token":L.value},onUploadProgress:p=>{if(p.total){const z=Math.round(p.loaded/p.total*100),Ie=e;F.updateProgress(Ie.uid,z),a&&a({percent:z})}}});s.data.success||f.error(s.data.error.value||"Upload failed")}catch(s){throw C.isAxiosError(s)?s.response?.status===413?f.error("The selected file is larger than 1GB."):(console.error("Upload error:",s),f.error(s.response?.data?.error_message||`Unexpected error occurred: ${s.message}`)):(console.error("Unknown upload error:",s),f.error("An unknown error occurred. Please try again.")),s}},ae=async e=>{if(g.value[e]!==void 0&&g.value[e]<100&&g.value[e]>0){f.info(`Download for ${e} is already in progress.`);return}try{T.value[e]=!0,M.value[e]=!0,g.value[e]=0;const a=await C.get(`/api/download_file?file=${encodeURIComponent(e)}`,{headers:{"X-HomeDock-CSRF-Token":L.value},responseType:"blob",onDownloadProgress:p=>{if(p.total){const z=Math.round(p.loaded*100/p.total);g.value[e]=z}}}),t=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=t,s.setAttribute("download",e),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t),setTimeout(()=>{T.value[e]=!1,M.value[e]=!1},1e3)}catch(a){console.error("Failed to download file:",e,a),C.isAxiosError(a)?f.error(a.response?.data?.error_message||"Failed to download file. Please try again."):f.error("Failed to download file. Please try again."),delete g.value[e],M.value[e]=!1,T.value[e]=!1}},se=e=>{k[e]&&clearTimeout(k[e]),c.value[e]=!0,k[e]=setTimeout(()=>{Ze(e)},3e3)},Ze=e=>{c.value[e]=!1,k[e]&&(clearTimeout(k[e]),delete k[e])},ne=async e=>{k[e]&&(clearTimeout(k[e]),delete k[e]),c.value[e]=!1,await Fe(e)},Fe=async e=>{try{const a=await C.post("/api/delete_file",{file:e},{headers:{"X-HomeDock-CSRF-Token":L.value}});a.data.success?(f.success(a.data.message),I()):f.error(a.data.error||"Failed to delete file")}catch(a){console.error("Failed to delete file:",e,a),C.isAxiosError(a)?f.error(a.response?.data?.error_message||"Failed to delete file. Please try again."):f.error("Failed to delete file. Please try again.")}},I=async()=>{try{const e=await C.get("/api/get_files",{headers:{"X-HomeDock-CSRF-Token":L.value}});w.value=e.data.files||[],ke.setFiles(w.value)}catch(e){console.error("Failed to fetch files:",e),C.isAxiosError(e)?f.error(e.response?.data?.error_message||"Failed to fetch files. Please try again."):f.error("Failed to fetch files. Please try again.")}},Te=H(()=>_.value?w.value.filter(e=>e.name.toLowerCase().includes(_.value.toLowerCase())).map(e=>({value:e.name,label:e.name})):w.value.map(e=>({value:e.name,label:e.name}))),V=H(()=>_.value?w.value.filter(e=>e.name.toLowerCase().includes(_.value.toLowerCase())):w.value),re=H(()=>[...V.value].sort((a,t)=>{let s=0;switch($.value){case"name":s=a.name.localeCompare(t.name);break;case"size":s=a.size-t.size;break;case"date":if(!a.modified&&!t.modified)s=0;else if(!a.modified)s=1;else if(!t.modified)s=-1;else{const p=typeof a.modified=="number"?a.modified:new Date(a.modified).getTime()/1e3,z=typeof t.modified=="number"?t.modified:new Date(t.modified).getTime()/1e3;s=p-z}break}return b.value==="asc"?s:-s})),G=H(()=>O(w.value.reduce((e,a)=>e+a.size,0))),Me=e=>{const a=typeof e=="object"?e.value:e;_.value=a.toString(),f.info(`Selected: ${a}`)},Le=e=>{e.file.status==="done"?f.success(`${e.file.name} uploaded successfully`):e.file.status==="error"&&f.error(`${e.file.name} upload failed.`)};function O(e){const a=typeof e=="number"?e:parseFloat(e);if(a===0)return"0 B";const t=1024,s=["B","KB","MB","GB","TB"],p=Math.floor(Math.log(a)/Math.log(t));return Math.round(a/Math.pow(t,p)*100)/100+" "+s[p]}const Be=()=>{I()};return je(()=>{be(),I()}),(e,a)=>(u(),h("div",nt,[l("div",rt,[l("div",lt,[i(o(Qe),{class:n([[o(r).dropZoneDragHolder,o(r).scopeSelector],"compact-dragger"]),fileList:B.value,"onUpdate:fileList":a[0]||(a[0]=t=>B.value=t),name:"file",multiple:!0,customRequest:$e,onChange:Le,onSuccess:Be,showUploadList:!0},{default:m(()=>[l("div",it,[l("p",ct,[i(Ae,{icons:[o(j),o(Ne)],iconSize:48,interval:2e3,class:n([[o(r).dropZoneDragIcon],"text-3xl"])},null,8,["icons","class"])]),l("p",{class:n([[o(r).dropZoneDragUpText],"px-4 text-balance text-sm"])},"Click or drag files to this area to upload and encrypt its content",2),l("p",{class:n([[o(r).dropZoneDragDownText],"px-4 text-balance text-xs"])},"Maximum file size allowed per file is 1GB",2),G.value!="0 B"?(u(),h("p",dt,[l("strong",{class:n([[o(r).dropZoneTotalSizeScope],"rounded-full px-4 py-0.5 ml-2"])},y(G.value)+" total in "+y(w.value.length)+" "+y(w.value.length===1?"file":"files"),3)])):S("",!0)])]),_:1},8,["class","fileList"])]),l("div",ut,[l("div",pt,[l("div",mt,[i(o(We),{value:_.value,"onUpdate:value":a[2]||(a[2]=t=>_.value=t),options:Te.value,"popup-class-name":`${o(r).scopeSelector}`,class:"w-full",onSelect:Me},{default:m(()=>[i(o(Ke),{value:_.value,"onUpdate:value":a[1]||(a[1]=t=>_.value=t),placeholder:"Search files...",class:"w-full text-sm","enter-button":"Search"},{prefix:m(()=>[i(o(v),{icon:o(j),class:n([[o(r).dropZoneInputIcon],"mx-1"])},null,8,["icon","class"])]),_:1},8,["value"])]),_:1},8,["value","options","popup-class-name"])]),l("div",vt,[l("div",{class:n([[o(r).dropZoneViewToggle],"dropzone-view-toggle flex rounded-md border overflow-hidden h-8 flex-1"])},[l("button",{onClick:a[3]||(a[3]=t=>Y("grid")),class:n(["px-3 py-1 text-sm transition-colors h-full flex items-center justify-center flex-1",D.value==="grid"?o(r).dropZoneViewButtonActive:o(r).dropZoneViewButtonInactive]),title:"Grid View"},[i(o(v),{icon:o(et),class:"w-4 h-4"},null,8,["icon"])],2),l("button",{onClick:a[4]||(a[4]=t=>Y("list")),class:n(["px-3 py-1 text-sm transition-colors h-full flex items-center justify-center flex-1",D.value==="list"?o(r).dropZoneViewButtonActive:o(r).dropZoneViewButtonInactive]),title:"List View"},[i(o(v),{icon:o(tt),class:"w-4 h-4"},null,8,["icon"])],2)],2),i(o(Xe),{value:$.value,"onUpdate:value":a[5]||(a[5]=t=>$.value=t),class:n([[o(r).scopeSelector,o(r).dropZoneSortSelect],"dropzone-sort-select h-8 flex-1 rounded-md min-w-[140px] transition duration-150"]),"popup-class-name":`${o(r).scopeSelector}`,"show-search":!1},{suffixIcon:m(()=>[i(o(v),{icon:o(st),class:"w-4 h-4"},null,8,["icon"])]),default:m(()=>[i(o(K),{value:"name"},{default:m(()=>[...a[6]||(a[6]=[U("Sort by Name",-1)])]),_:1}),i(o(K),{value:"size"},{default:m(()=>[...a[7]||(a[7]=[U("Sort by Size",-1)])]),_:1}),i(o(K),{value:"date"},{default:m(()=>[...a[8]||(a[8]=[U("Sort by Date",-1)])]),_:1})]),_:1},8,["value","class","popup-class-name"]),l("button",{onClick:De,class:n([[o(r).dropZoneSortButton],"px-2 py-1 border rounded-md transition-colors h-8 flex items-center justify-center flex-shrink-0"]),title:b.value==="asc"?"Sort Ascending":"Sort Descending"},[i(o(v),{icon:b.value==="asc"?o(ot):o(at),class:"w-4 h-4"},null,8,["icon"])],10,ft)])]),l("div",ht,[l("span",{class:n([o(r).dropZoneFilesCount])},[U(y(V.value.length)+" "+y(V.value.length===1?"file":"files")+" ",1),_.value?(u(),h("span",wt,"(filtered from "+y(w.value.length)+" total)",1)):S("",!0)],2)]),l("div",null,[V.value.length===0?(u(),h("div",gt,[i(o(Ye),{class:n([o(r).dropZoneEmptyText]),description:_.value?"No encrypted files found matching your search":"No encrypted files found"},null,8,["class","description"])])):S("",!0),i(Pe,{name:"layout-switch",mode:"out-in",appear:""},{default:m(()=>[D.value==="grid"?(u(),h("div",xt,[i(le,{name:"file-reorder",tag:"div",class:"contents"},{default:m(()=>[(u(!0),h(ie,null,ce(re.value,t=>(u(),h("div",{key:t.name,class:n([[o(r).dropZoneFileDisplayer],"relative flex flex-col items-center justify-center text-center border border-dashed rounded-lg p-4 shadow-sm hover:shadow-md group transition duration-300"])},[oe(t)?(u(),h("span",{key:0,class:n([[o(r).dropZoneNewBadge],"absolute left-2 top-2 text-[8px] px-1 py-0.5 rounded-full font-bold z-10"])},"NEW",2)):S("",!0),l("div",yt,[M.value[t.name]?(u(),q(o(v),{key:0,icon:o(pe),class:n([[o(r).dropZoneLockIcon],"transition duration-300 animate-spin h-4 w-4 min-h-4 min-w-4"])},null,8,["icon","class"])):S("",!0),i(o(v),{icon:T.value[t.name]?o(_e):o(ge),class:n([[o(r).dropZoneLockIcon],"transition duration-300 h-4 w-4 min-h-4 min-w-4"])},null,8,["icon","class"])]),i(o(v),{icon:W(t.name),class:n([[o(r).dropZoneFileIcon],"h-12 w-12 min-h-12 min-w-12 transition duration-300 group-hover:scale-110"])},null,8,["icon","class"]),l("div",_t,[l("span",{class:n([[o(r).dropZoneFileText],"text-xs break-words w-full overflow-hidden text-ellipsis block text-center"]),title:t.name},y(t.name),11,St),l("div",kt,[l("span",{class:n([[o(r).dropZoneFileSize],"px-1 rounded-full text-[10px]"])},y(O(t.size)),3),t.modified?(u(),h("span",{key:0,class:n([[o(r).dropZoneFileSize],"px-1 rounded-full text-[10px]"]),title:ee(t.modified)},y(N(t.modified)),11,bt)):S("",!0)])]),l("div",Ct,[g.value[t.name]!==void 0&&g.value[t.name]<100?(u(),q(o(xe),{key:0,percent:g.value[t.name],class:n([[o(r).scopeSelector,"a-download-bottom-progress"],"h-1 rounded-full"]),"show-info":!1,size:2,status:"active"},null,8,["percent","class"])):S("",!0)]),l("div",Dt,[l("div",{class:n(["transition-all duration-300 ease-out",c.value[t.name]?"w-full flex justify-center":"flex space-x-2"])},[de(i(o(P),{type:"primary",onClick:s=>ae(t.name),size:"small",title:`Download ${t.name}`,class:n(["transition-all duration-300 ease-out",{"opacity-0 scale-95 pointer-events-none":c.value[t.name],"opacity-100 scale-100":!c.value[t.name]}])},{default:m(()=>[i(o(v),{icon:o(ye)},null,8,["icon"])]),_:1},8,["onClick","title","class"]),[[ue,!c.value[t.name]]]),i(o(P),{type:"dashed",onClick:s=>c.value[t.name]?ne(t.name):se(t.name),size:"small",class:n([o(r).dropZoneDeleteIcon,"transition-all duration-300 ease-out transform-gpu relative overflow-hidden",c.value[t.name]?"min-w-20 border-red-500 text-white px-2":"w-8 px-2"]),title:c.value[t.name]?`Confirm delete ${t.name}`:`Delete ${t.name}`,danger:c.value[t.name]},{default:m(()=>[l("div",$t,[i(o(v),{icon:o(me),class:n(["transition-transform duration-300 flex-shrink-0 w-4 h-4",c.value[t.name]?"rotate-0":"group-hover:rotate-90"])},null,8,["icon","class"]),l("span",{class:n(["text-xs font-medium transition-all duration-300 overflow-hidden",c.value[t.name]?"opacity-100 max-w-20 ml-1.5":"opacity-0 max-w-0 ml-0"])}," Delete? ",2)])]),_:2},1032,["onClick","class","title","danger"])],2)])],2))),128))]),_:1})])):(u(),h("div",zt,[i(le,{name:"file-reorder",tag:"div",class:"space-y-2"},{default:m(()=>[(u(!0),h(ie,null,ce(re.value,t=>(u(),h("div",{key:t.name,class:n([[o(r).dropZoneFileDisplayer],"relative flex items-center gap-4 p-3 border border-dashed rounded-lg hover:shadow-md group transition duration-300"])},[oe(t)?(u(),h("span",{key:0,class:n([[o(r).dropZoneNewBadge],"absolute left-2 top-2 text-[8px] px-1 py-0.5 rounded-full font-bold z-10"])},"NEW",2)):S("",!0),i(o(v),{icon:W(t.name),class:n([[o(r).dropZoneFileIcon],"h-8 w-8 min-h-8 min-w-8 flex-shrink-0"])},null,8,["icon","class"]),l("div",Zt,[l("div",Ft,[l("span",{class:n([[o(r).dropZoneFileText],"text-sm font-medium truncate"]),title:t.name},y(t.name),11,Tt),l("div",Mt,[M.value[t.name]?(u(),q(o(v),{key:0,icon:o(pe),class:n([[o(r).dropZoneLockIcon],"transition duration-300 animate-spin h-3 w-3"])},null,8,["icon","class"])):S("",!0),i(o(v),{icon:T.value[t.name]?o(_e):o(ge),class:n([[o(r).dropZoneLockIcon],"transition duration-300 h-3 w-3"])},null,8,["icon","class"])])]),l("div",Lt,[l("span",{class:n([[o(r).dropZoneFileSize],"px-1 rounded-full text-[10px]"])},y(O(t.size)),3),t.modified?(u(),h("span",{key:0,class:n([[o(r).dropZoneFileSize],"px-1 rounded-full text-[10px]"]),title:ee(t.modified)},y(N(t.modified)),11,Bt)):S("",!0)]),g.value[t.name]!==void 0&&g.value[t.name]<100?(u(),h("div",It,[i(o(xe),{percent:g.value[t.name],class:n([[o(r).scopeSelector,"a-download-bottom-progress"],"h-1 rounded-full"]),"show-info":!1,size:2,status:"active"},null,8,["percent","class"])])):S("",!0)]),l("div",Vt,[de(i(o(P),{type:"primary",onClick:s=>ae(t.name),size:"small",title:`Download ${t.name}`,class:n(["transition-all duration-300 ease-out",{"opacity-0 scale-95 pointer-events-none":c.value[t.name],"opacity-100 scale-100":!c.value[t.name]}])},{default:m(()=>[i(o(v),{icon:o(ye)},null,8,["icon"])]),_:1},8,["onClick","title","class"]),[[ue,!c.value[t.name]]]),i(o(P),{type:"dashed",onClick:s=>c.value[t.name]?ne(t.name):se(t.name),size:"small",class:n([o(r).dropZoneDeleteIcon,"transition-all duration-300 ease-out transform-gpu relative overflow-hidden",c.value[t.name]?"min-w-20 border-red-500 text-white px-3":"w-8 px-2"]),title:c.value[t.name]?`Confirm delete ${t.name}`:`Delete ${t.name}`,danger:c.value[t.name]},{default:m(()=>[l("div",Ht,[i(o(v),{icon:o(me),class:n(["transition-transform duration-300 flex-shrink-0 w-4 h-4",c.value[t.name]?"rotate-0":"group-hover:rotate-90"])},null,8,["icon","class"]),l("span",{class:n(["text-xs font-medium transition-all duration-300",c.value[t.name]?"opacity-100 ml-0":"opacity-0 w-0 -ml-1"])}," Confirm ",2)])]),_:2},1032,["onClick","class","title","danger"])])],2))),128))]),_:1})]))]),_:1})])])]),i(Je,{icon:o(j),message:`${w.value.length} ${w.value.length===1?"file":"files"} available`,info:`${G.value} total`,showHelp:!0},{help:m(()=>[l("div",Ut,[l("div",jt,[i(o(v),{icon:o(j),class:n(["w-5 h-5",o(r).statusBarIcon])},null,8,["icon","class"]),l("h4",{class:n(["text-base font-semibold",o(r).statusBarText])},"Drop Zone",2)]),l("div",{class:n(["text-[10px] md:text-xs space-y-2 leading-relaxed",o(r).statusBarInfo])},[...a[9]||(a[9]=[l("p",null,"Your personal encrypted cloud storage built into HomeDock OS. Every file you upload is automatically encrypted with military-grade AES-256-GCM encryption before being stored. Simply drag and drop your files. HomeDock OS encrypts and signs them instantly using your unique user key. Only you can decrypt and access your files.",-1)])],2)])]),_:1},8,["icon","message","info"])]))}}),go=Ee(Pt,[["__scopeId","data-v-3a1a942e"]]);export{go as default};
