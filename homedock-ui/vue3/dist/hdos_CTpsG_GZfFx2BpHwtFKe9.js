import{d as Pe,r as h,u as Re,w as Oe,z as A,o as Ne,c as p,a as c,e as n,b as l,F as qe,A as Ge,k as We,l as Xe,N as Je,n as r,f as e,i as d,m as x,t as v,I as m,x as Z,T as he,M as fe,p as X,O as ve,h as J,Z as Qe,g as Ke,q as Ye,s as et}from"./hdos_DrLYHBVTzGKueIqeVa0-U.js";import{N as tt,_ as ot,f as Q,C as at,g as st,h as lt}from"./hdos_CwymDqZtnzGXivLYQ6fBS.js";import{d as ge,a as I}from"./hdos_DZUKIvxDT3Fqh7rzmD7rn.js";import{d as we}from"./hdos_DPhlMBAcwmj4N6C-RIU0v.js";import{d as nt}from"./hdos_BfgjWOgtXakTbwTKEuGW0.js";import{A as rt}from"./hdos_Dm5dEznyEODSGAI8tnVb_.js";import{a as it}from"./hdos_B-y6bhDfEaBv1XP6sulm1.js";import{S as ct,a as K}from"./hdos_JMNvO4Pup_lUVGBY0JU1z.js";import{E as dt,B as H}from"./hdos_OIxCipLLecMZlhY603d5p.js";import{a as g}from"./hdos_GgH5WXxDlCTCgwDOggafj.js";import{A as ut}from"./hdos_Dv5Zzn_K7CkYYi16w6p-Y.js";import{a as pt}from"./hdos_Kvj9A8OxobVg_qMjbV2tq.js";import{P as xe}from"./hdos_5wO6fSXu6lQujVLPTdCJj.js";import"./hdos_DDDdO9fX8HX2xdo5Gmwgk.js";import"./hdos_D6-XlEtGdUWrcdOe4mzvB.js";import"./hdos_C4bM1MY4Ua6tVaTIeC4Go.js";import"./hdos_D590cRYUQ5xMehs05b2Mb.js";import"./hdos_BRZNl8W1Jb8iN7oKcFKrQ.js";import"./hdos_CnlsLbV3So9mi8mgxx_lE.js";import"./hdos_b9KwU1ixH4QgUKMsw9_OV.js";const ye={width:24,height:24,body:'<path fill="currentColor" d="M10 4H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-8l-2-2Z"/>'},Y={width:24,height:24,body:'<path fill="currentColor" d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m9 16v-2H6v2h9m3-4v-2H6v2h12Z"/>'},z={width:24,height:24,body:'<path fill="currentColor" d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m0 18h12v-8l-4 4l-2-2l-6 6M8 9a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2Z"/>'},_e={width:24,height:24,body:'<path fill="currentColor" d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m11 17v-6l-3 2.2V13H7v6h7v-2.2l3 2.2Z"/>'},ee={width:24,height:24,body:'<path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m-1 11h-2v5a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2c.4 0 .7.1 1 .3V11h3v2m0-4V3.5L18.5 9H13Z"/>'},be={width:24,height:24,body:'<path fill="currentColor" d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-2 6h-2v2h2v2h-2v2h-2v-2h2v-2h-2v-2h2v-2h-2V8h2v2h2v2Z"/>'},te={width:24,height:24,body:'<path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m1.8 18H14l-2-3.4l-2 3.4H8.2l2.9-4.5L8.2 11H10l2 3.4l2-3.4h1.8l-2.9 4.5l2.9 4.5M13 9V3.5L18.5 9H13Z"/>'},E={width:24,height:24,body:'<path fill="currentColor" d="M12.6 12.3h-2v3.2h2.1c.6 0 .9-.2 1.2-.5c.3-.3.4-.6.4-1.1c0-.5-.1-.8-.4-1.1c-.3-.3-.7-.5-1.3-.5M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m1.2 14c-.6.5-1.1.7-2.4.7h-2.2V20H9v-9h3.8c1.3 0 1.9.3 2.4.8c.6.6.8 1.2.8 2.1c0 .9-.2 1.6-.8 2.1M13 9V3.5L18.5 9H13Z"/>'},ke={width:24,height:24,body:'<path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m1.2 18h-1.4L12 13.2L10.2 20H8.8l-2.2-9h1.5l1.4 6.8l1.8-6.8h1.3l1.8 6.8l1.4-6.8h1.5l-2.1 9M13 9V3.5L18.5 9H13Z"/>'},u={width:24,height:24,body:'<path fill="currentColor" d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m.12 13.5l3.74 3.74l1.42-1.41l-2.33-2.33l2.33-2.33l-1.42-1.41l-3.74 3.74m11.16 0l-3.74-3.74l-1.42 1.41l2.33 2.33l-2.33 2.33l1.42 1.41l3.74-3.74Z"/>'},mt={width:24,height:24,body:'<path fill="currentColor" d="M13 9V3.5L18.5 9M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6Z"/>'},Ce={width:24,height:24,body:'<path fill="currentColor" d="M10 4h4v9l3.5-3.5l2.42 2.42L12 19.84l-7.92-7.92L6.5 9.5L10 13V4Z"/>'},Se={width:24,height:24,body:'<path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"/>'},ht={width:24,height:24,body:'<path fill="currentColor" d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12c5.16-1.26 9-6.45 9-12V5l-9-4m0 6c1.4 0 2.8 1.1 2.8 2.5V11c.6 0 1.2.6 1.2 1.3v3.5c0 .6-.6 1.2-1.3 1.2H9.2c-.6 0-1.2-.6-1.2-1.3v-3.5c0-.6.6-1.2 1.2-1.2V9.5C9.2 8.1 10.6 7 12 7m0 1.2c-.8 0-1.5.5-1.5 1.3V11h3V9.5c0-.8-.7-1.3-1.5-1.3Z"/>'},Ze={width:24,height:24,body:'<path fill="currentColor" d="M16 8c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V10c0-1.1.9-2 2-2h9V6c0-1.7-1.3-3-3-3S7 4.3 7 6H5c0-2.8 2.2-5 5-5s5 2.2 5 5v2h1m-6 9c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2m12-4h-2V7h2v6m0 4h-2v-2h2v2Z"/>'},ft={width:24,height:24,body:'<path fill="currentColor" d="M3 11h8V3H3m0 18h8v-8H3m10 8h8v-8h-8m0-10v8h8V3"/>'},vt={width:24,height:24,body:'<path fill="currentColor" d="M9 5v4h12V5M9 19h12v-4H9m0-1h12v-4H9M4 9h4V5H4m0 14h4v-4H4m0-1h4v-4H4v4Z"/>'},gt={width:24,height:24,body:'<path fill="currentColor" d="M19 17h3l-4 4l-4-4h3V3h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"/>'},wt={width:24,height:24,body:'<path fill="currentColor" d="M19 7h3l-4-4l-4 4h3v14h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"/>'},xt={width:24,height:24,body:'<path fill="currentColor" d="m12 2l4 4h-3v7.85l6.53 3.76L21 15.03l1.5 5.47l-5.5 1.46l1.53-2.61L12 15.58l-6.53 3.77L7 21.96L1.5 20.5L3 15.03l1.47 2.58L11 13.85V6H8l4-4Z"/>'},yt={class:"flex flex-col min-h-screen"},_t={class:"top-0 left-0 z-10"},bt={class:"flex flex-1 overflow-hidden"},kt={class:"hidden lg:block relative"},Ct={class:"flex-1 overflow-auto max-w-full holder"},St={class:"flex items-center align-center justify-center flex-col"},Zt={class:"ant-upload-drag-icon"},Mt={key:0,class:"text-xs mt-2"},Dt={class:"mt-2 space-y-2"},Lt={class:"flex flex-col lg:flex-row gap-2 items-start lg:items-center justify-between"},Vt={class:"flex-1 min-w-0 w-full lg:w-auto"},$t={class:"flex items-center gap-2 mt-0.5 w-full lg:w-auto lg:flex-shrink-0"},Ht=["title"],zt={class:"flex items-center justify-start text-[10px]"},Ft={key:0,class:"ml-0.5"},Tt={key:0,class:"flex justify-center items-center py-8"},Bt={key:"grid-view",class:"grid grid-cols-[repeat(auto-fill,minmax(140px,1fr))] lg:grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-4"},It={class:"absolute right-2 top-2 flex items-center gap-1"},jt={class:"mt-2 w-full"},Ut=["title"],At={class:"flex items-center justify-center gap-1 mt-1"},Et=["title"],Pt={class:"absolute -bottom-1 left-0 right-0 px-1"},Rt={class:"mt-3 flex space-x-2"},Ot={key:"list-view",class:"space-y-2"},Nt={class:"flex-1 min-w-0"},qt={class:"flex items-center gap-2"},Gt=["title"],Wt={class:"flex items-center gap-1"},Xt={class:"flex items-center gap-2 mt-1 text-xs"},Jt=["title"],Qt={key:0,class:"absolute -bottom-1 left-0 right-0 px-1"},Kt={class:"flex items-center gap-2 flex-shrink-0"},Yt={class:"flex items-center gap-3 mb-4"},eo={class:"break-words inline"},to={class:"flex gap-3 justify-end"},oo=3,ao=Pe({__name:"Dropzone",setup(f){var me;const M=t=>{var a;if(t.endsWith("/"))return ye;const o=(a=t.split(".").pop())==null?void 0:a.toLowerCase();return L[o||"unknown"]||mt},L={folder:ye,txt:Y,md:Y,pdf:Y,png:z,jpg:z,jpeg:z,gif:z,psd:z,webp:z,mp4:_e,mkv:_e,mp3:ee,wav:ee,flac:ee,zip:be,rar:be,doc:ke,docx:ke,pptx:E,ppt:E,ppsx:E,pps:E,xlsx:te,xls:te,csv:te,exe:u,app:u,sh:u,js:u,ts:u,py:u,c:u,cpp:u,h:u,hpp:u,cs:u,java:u,php:u,html:u,css:u,json:u,xml:u,sql:u,rs:u},k=h(((me=document.querySelector('meta[name="homedock_csrf_token"]'))==null?void 0:me.getAttribute("content"))||""),{themeClasses:s}=Re(),Le=h("/drop-zone"),_=h([]),y=h(""),j=h([]),F=h({}),T=h({}),w=h({}),P=h([]),R=h(0),D=h("grid"),V=h("name"),C=h("asc"),O=h(!1),B=h(""),Ve=()=>{try{const t=localStorage.getItem("dropzoneStatus");if(t){const o=JSON.parse(t);D.value=o.viewMode||"grid",V.value=o.sortBy||"name",C.value=o.sortDirection||"asc"}}catch(t){console.warn("Failed to load dropzone preferences:",t)}},$e=()=>{try{const t={viewMode:D.value,sortBy:V.value,sortDirection:C.value};localStorage.setItem("dropzoneStatus",JSON.stringify(t))}catch(t){console.warn("Failed to save dropzone preferences:",t)}};Oe([D,V,C],()=>{$e()});const se=t=>{D.value=t},He=()=>{C.value=C.value==="asc"?"desc":"asc"},le=t=>{if(!t)return"";const o=new Date,a=typeof t=="number"?new Date(t*1e3):new Date(t),i=Math.floor((o.getTime()-a.getTime())/1e3);return i<30?"Now":i<60?`${i}s ago`:i<3600?`${Math.floor(i/60)}m ago`:i<86400?`${Math.floor(i/3600)}h ago`:i<2592e3?`${Math.floor(i/86400)}d ago`:i<31536e3?`${Math.floor(i/2592e3)}mo ago`:`${Math.floor(i/31536e3)}y ago`},ne=t=>t?(typeof t=="number"?new Date(t*1e3):new Date(t)).toLocaleString():"",re=async()=>{if(R.value>=oo||P.value.length===0)return;const t=P.value.shift();if(t){R.value++;try{await Fe(t.file,t.onProgress),j.value=j.value.filter(o=>o.uid!==t.file.uid),t.onSuccess&&t.onSuccess(null,t.file)}catch(o){t.onError&&t.onError(o)}finally{R.value--,re()}}},ze=async({file:t,onSuccess:o,onError:a,onProgress:i})=>{P.value.push({file:t,onProgress:i,onSuccess:o,onError:a}),re()},ie=t=>{if(!t.modified)return!1;const o=new Date,a=typeof t.modified=="number"?new Date(t.modified*1e3):new Date(t.modified);return(o.getTime()-a.getTime())/(1e3*60*60)<1},Fe=async(t,o)=>{var i,S,$;const a=new FormData;a.append("file",t);try{const b=await I.post("/api/upload_file",a,{headers:{"X-HomeDock-CSRF-Token":k.value},onUploadProgress:W=>{if(o&&W.total){const Ee=Math.round(W.loaded/W.total*100);o({percent:Ee})}}});b.data.success||(g.error(b.data.error.value||"Upload failed"),console.error("Error during file upload:",b.data.error))}catch(b){I.isAxiosError(b)?((i=b.response)==null?void 0:i.status)===413?g.error("The selected file is larger than 1GB."):g.error((($=(S=b.response)==null?void 0:S.data)==null?void 0:$.error_message)||`Unexpected error occurred: ${b.message}`):g.error("An unknown error occurred. Please try again."),console.error("Upload error:",b)}},ce=async t=>{if(w.value[t]!==void 0&&w.value[t]<100&&w.value[t]>0){g.info(`Download for ${t} is already in progress.`);return}try{F.value[t]=!0,T.value[t]=!0,w.value[t]=0;const o=await I.get(`/api/download_file?file=${encodeURIComponent(t)}`,{headers:{"X-HomeDock-CSRF-Token":k.value},responseType:"blob",onDownloadProgress:S=>{if(S.total){const $=Math.round(S.loaded*100/S.total);w.value[t]=$}}}),a=window.URL.createObjectURL(new Blob([o.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",t),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a),setTimeout(()=>{F.value[t]=!1,T.value[t]=!1},1e3)}catch(o){console.error("Error downloading file:",o),g.error("Failed to download file. Please try again."),delete w.value[t],T.value[t]=!1,F.value[t]=!1}},de=t=>{B.value=t,O.value=!0},N=()=>{O.value=!1,B.value=""},Te=async()=>{B.value&&(await Be(B.value),N())},Be=async t=>{try{const o=await I.post("/api/delete_file",{file:t},{headers:{"X-HomeDock-CSRF-Token":k.value}});o.data.success?(g.success(o.data.message),q()):g.error(o.data.error||"Failed to delete file")}catch(o){console.error("Error deleting file:",o),g.error("Failed to delete file. Please try again.")}},q=async()=>{try{const t=await I.get("/api/get_files",{headers:{"X-HomeDock-CSRF-Token":k.value}});_.value=t.data.files||[]}catch(t){console.error("Error fetching files:",t),g.error("Failed to fetch files. Please try again.")}},Ie=A(()=>y.value?_.value.filter(t=>t.name.toLowerCase().includes(y.value.toLowerCase())).map(t=>({value:t.name,label:t.name})):_.value.map(t=>({value:t.name,label:t.name}))),U=A(()=>y.value?_.value.filter(t=>t.name.toLowerCase().includes(y.value.toLowerCase())):_.value),ue=A(()=>[...U.value].sort((o,a)=>{let i=0;switch(V.value){case"name":i=o.name.localeCompare(a.name);break;case"size":i=o.size-a.size;break;case"date":if(!o.modified&&!a.modified)i=0;else if(!o.modified)i=1;else if(!a.modified)i=-1;else{const S=typeof o.modified=="number"?o.modified:new Date(o.modified).getTime()/1e3,$=typeof a.modified=="number"?a.modified:new Date(a.modified).getTime()/1e3;i=S-$}break}return C.value==="asc"?i:-i})),pe=A(()=>G(_.value.reduce((t,o)=>t+o.size,0))),je=t=>{const o=typeof t=="object"?t.value:t;y.value=o.toString(),g.info(`Selected: ${o}`)},Ue=t=>{t.file.status==="done"?g.success(`${t.file.name} uploaded successfully`):t.file.status==="error"&&g.error(`${t.file.name} upload failed.`)};function G(t){const o=typeof t=="number"?t:parseFloat(t);return o>=1e9?(o/1e9).toFixed(2)+" GBs":o>=1e6?(o/1e6).toFixed(2)+" MBs":o>=1e3?(o/1e3).toFixed(2)+" KBs":o+" B"}const Ae=()=>{q()};return Ne(()=>{Ve(),q()}),(t,o)=>(c(),p(X,null,[n(qe),n(Ge),n(We),n(Xe),n(Je),l("div",yt,[l("header",_t,[n(tt)]),o[10]||(o[10]=l("div",{class:"h-24"},null,-1)),l("div",bt,[l("aside",kt,[n(ot,{activePath:Le.value},null,8,["activePath"])]),l("div",{class:r([[e(s).back],"flex flex-col flex-1 pl-4 pt-3 pr-4 max-w-full overflow-x-hidden"])},[l("main",Ct,[n(at,{title:"Drop Zone",body:"Locally encrypted file vault",mdi_icon:e(Q),id:"dropZoneUp",collapsible:!1},{default:d(()=>[n(e(it),{class:r([e(s).dropZoneDragHolder,e(s).scopeSelector]),fileList:j.value,"onUpdate:fileList":o[0]||(o[0]=a=>j.value=a),name:"file",multiple:!0,customRequest:ze,onChange:Ue,onSuccess:Ae,showUploadList:!0},{default:d(()=>[l("div",St,[l("p",Zt,[n(rt,{icons:[e(Q),e(ht)],iconSize:64,interval:2e3,class:r([[e(s).dropZoneDragIcon],"text-4xl"])},null,8,["icons","class"])]),l("p",{class:r([[e(s).dropZoneDragUpText],"ant-upload-text px-4 text-balance"])},"Click or drag files to this area to upload and encrypt its content",2),l("p",{class:r([[e(s).dropZoneDragDownText],"ant-upload-hint px-4 text-balance"])},"Maximum file size allowed per file is 1GB",2),pe.value!="0 B"?(c(),p("p",Mt,[l("strong",{class:r([[e(s).dropZoneTotalSizeScope],"rounded-full px-4 py-0.5 ml-2"])},v(pe.value)+" total in "+v(_.value.length)+" "+v(_.value.length===1?"file":"files"),3)])):x("",!0)])]),_:1},8,["class","fileList"]),l("div",Dt,[l("div",Lt,[l("div",Vt,[n(e(ut),{value:y.value,"onUpdate:value":o[2]||(o[2]=a=>y.value=a),options:Ie.value,"popup-class-name":`${e(s).scopeSelector} z-0`,class:"w-full",onSelect:je},{default:d(()=>[n(e(pt),{value:y.value,"onUpdate:value":o[1]||(o[1]=a=>y.value=a),placeholder:"Search files...",class:r([[e(s).scopeSelector],"w-full text-sm"]),"enter-button":"Search"},{prefix:d(()=>[n(e(m),{icon:e(Q),class:r([[e(s).dropZoneInputIcon],"mx-1"])},null,8,["icon","class"])]),_:1},8,["value","class"])]),_:1},8,["value","options","popup-class-name"])]),l("div",$t,[l("div",{class:r([[e(s).dropZoneViewToggle],"flex rounded-md border overflow-hidden h-8 flex-1 lg:flex-none"])},[l("button",{onClick:o[3]||(o[3]=a=>se("grid")),class:r(["px-3 py-1 text-sm transition-colors h-full flex items-center justify-center flex-1",D.value==="grid"?e(s).dropZoneViewButtonActive:e(s).dropZoneViewButtonInactive]),title:"Grid View"},[n(e(m),{icon:e(ft),class:"w-4 h-4"},null,8,["icon"])],2),l("button",{onClick:o[4]||(o[4]=a=>se("list")),class:r(["px-3 py-1 text-sm transition-colors h-full flex items-center justify-center flex-1",D.value==="list"?e(s).dropZoneViewButtonActive:e(s).dropZoneViewButtonInactive]),title:"List View"},[n(e(m),{icon:e(vt),class:"w-4 h-4"},null,8,["icon"])],2)],2),n(e(ct),{value:V.value,"onUpdate:value":o[5]||(o[5]=a=>V.value=a),class:r([[e(s).scopeSelector,e(s).dropZoneSortSelect],"h-8 flex-1 lg:flex-none rounded-md lg:w-auto min-w-[140px] transition duration-150"]),"popup-class-name":`${e(s).scopeSelector} z-0`,"show-search":!1},{suffixIcon:d(()=>[n(e(m),{icon:e(xt),class:"w-4 h-4"},null,8,["icon"])]),default:d(()=>[n(e(K),{value:"name"},{default:d(()=>o[7]||(o[7]=[Z("Sort by Name")])),_:1,__:[7]}),n(e(K),{value:"size"},{default:d(()=>o[8]||(o[8]=[Z("Sort by Size")])),_:1,__:[8]}),n(e(K),{value:"date"},{default:d(()=>o[9]||(o[9]=[Z("Sort by Date")])),_:1,__:[9]})]),_:1},8,["value","class","popup-class-name"]),l("button",{onClick:He,class:r([[e(s).dropZoneSortButton],"px-2 py-1 border rounded-md transition-colors h-8 flex items-center justify-center flex-shrink-0"]),title:C.value==="asc"?"Sort Ascending":"Sort Descending"},[n(e(m),{icon:C.value==="asc"?e(gt):e(wt),class:"w-4 h-4"},null,8,["icon"])],10,Ht)])]),l("div",zt,[l("span",{class:r([e(s).dropZoneFilesCount])},[Z(v(U.value.length)+" "+v(U.value.length===1?"file":"files")+" ",1),y.value?(c(),p("span",Ft,"(filtered from "+v(_.value.length)+" total)",1)):x("",!0)],2)]),l("div",null,[U.value.length===0?(c(),p("div",Tt,[n(e(dt),{class:r([e(s).dropZoneEmptyText]),description:y.value?"No encrypted files found matching your search":"No encrypted files found"},null,8,["class","description"])])):x("",!0),n(he,{name:"layout-switch",mode:"out-in",appear:""},{default:d(()=>[D.value==="grid"?(c(),p("div",Bt,[n(fe,{name:"file-reorder",tag:"div",class:"contents"},{default:d(()=>[(c(!0),p(X,null,ve(ue.value,a=>(c(),p("div",{key:a.name,class:r([[e(s).dropZoneFileDisplayer],"relative flex flex-col items-center justify-center text-center border border-dashed rounded-lg p-4 shadow-sm hover:shadow-md group transition duration-300"])},[ie(a)?(c(),p("span",{key:0,class:r([[e(s).dropZoneNewBadge],"absolute left-2 top-2 text-[8px] px-1 py-0.5 rounded-full font-bold z-10"])},"NEW",2)):x("",!0),l("div",It,[T.value[a.name]?(c(),J(e(m),{key:0,icon:e(ge),class:r([[e(s).dropZoneLockIcon],"transition duration-300 animate-spin h-4 w-4 min-h-4 min-w-4"])},null,8,["icon","class"])):x("",!0),n(e(m),{icon:F.value[a.name]?e(Ze):e(we),class:r([[e(s).dropZoneLockIcon],"transition duration-300 h-4 w-4 min-h-4 min-w-4"])},null,8,["icon","class"])]),n(e(m),{icon:M(a.name),class:r([[e(s).dropZoneFileIcon],"h-12 w-12 min-h-12 min-w-12 transition duration-300 group-hover:scale-110"])},null,8,["icon","class"]),l("div",jt,[l("span",{class:r([[e(s).dropZoneFileText],"text-xs break-words w-full overflow-hidden text-ellipsis block text-center"]),title:a.name},v(a.name),11,Ut),l("div",At,[l("span",{class:r([[e(s).dropZoneFileSize],"px-1 rounded-full text-[10px]"])},v(G(a.size)),3),a.modified?(c(),p("span",{key:0,class:r([[e(s).dropZoneFileSize],"px-1 rounded-full text-[10px]"]),title:ne(a.modified)},v(le(a.modified)),11,Et)):x("",!0)])]),l("div",Pt,[w.value[a.name]!==void 0&&w.value[a.name]<100?(c(),J(e(xe),{key:0,percent:w.value[a.name],class:r([[e(s).scopeSelector,"a-download-bottom-progress"],"h-1 rounded-full"]),"show-info":!1,size:2,status:"active"},null,8,["percent","class"])):x("",!0)]),l("div",Rt,[n(e(H),{type:"primary",onClick:i=>ce(a.name),size:"small",title:`Download ${a.name}`},{default:d(()=>[n(e(m),{icon:e(Ce)},null,8,["icon"])]),_:2},1032,["onClick","title"]),n(e(H),{type:"dashed",onClick:i=>de(a.name),size:"small",class:r([e(s).dropZoneDeleteIcon]),title:`Delete ${a.name}`},{default:d(()=>[n(e(m),{icon:e(Se),class:"transition duration-300 group-hover:rotate-90"},null,8,["icon"])]),_:2},1032,["onClick","class","title"])])],2))),128))]),_:1})])):(c(),p("div",Ot,[n(fe,{name:"file-reorder",tag:"div",class:"space-y-2"},{default:d(()=>[(c(!0),p(X,null,ve(ue.value,a=>(c(),p("div",{key:a.name,class:r([[e(s).dropZoneFileDisplayer],"relative flex items-center gap-4 p-3 border border-dashed rounded-lg hover:shadow-md group transition duration-300"])},[ie(a)?(c(),p("span",{key:0,class:r([[e(s).dropZoneNewBadge],"absolute left-2 top-2 text-[8px] px-1 py-0.5 rounded-full font-bold z-10"])},"NEW",2)):x("",!0),n(e(m),{icon:M(a.name),class:r([[e(s).dropZoneFileIcon],"h-8 w-8 min-h-8 min-w-8 flex-shrink-0"])},null,8,["icon","class"]),l("div",Nt,[l("div",qt,[l("span",{class:r([[e(s).dropZoneFileText],"text-sm font-medium truncate"]),title:a.name},v(a.name),11,Gt),l("div",Wt,[T.value[a.name]?(c(),J(e(m),{key:0,icon:e(ge),class:r([[e(s).dropZoneLockIcon],"transition duration-300 animate-spin h-3 w-3"])},null,8,["icon","class"])):x("",!0),n(e(m),{icon:F.value[a.name]?e(Ze):e(we),class:r([[e(s).dropZoneLockIcon],"transition duration-300 h-3 w-3"])},null,8,["icon","class"])])]),l("div",Xt,[l("span",{class:r([[e(s).dropZoneFileSize],"px-1 rounded-full text-[10px]"])},v(G(a.size)),3),a.modified?(c(),p("span",{key:0,class:r([[e(s).dropZoneFileSize],"px-1 rounded-full text-[10px]"]),title:ne(a.modified)},v(le(a.modified)),11,Jt)):x("",!0)]),w.value[a.name]!==void 0&&w.value[a.name]<100?(c(),p("div",Qt,[n(e(xe),{percent:w.value[a.name],class:r([[e(s).scopeSelector,"a-download-bottom-progress"],"h-1 rounded-full"]),"show-info":!1,size:2,status:"active"},null,8,["percent","class"])])):x("",!0)]),l("div",Kt,[n(e(H),{type:"primary",onClick:i=>ce(a.name),size:"small",title:`Download ${a.name}`},{default:d(()=>[n(e(m),{icon:e(Ce)},null,8,["icon"])]),_:2},1032,["onClick","title"]),n(e(H),{type:"dashed",onClick:i=>de(a.name),size:"small",class:r([e(s).dropZoneDeleteIcon]),title:`Delete ${a.name}`},{default:d(()=>[n(e(m),{icon:e(Se),class:"transition duration-300 group-hover:rotate-90"},null,8,["icon"])]),_:2},1032,["onClick","class","title"])])],2))),128))]),_:1})]))]),_:1})])])]),_:1},8,["mdi_icon"])]),n(st)],2)])]),n(he,{name:"modal-fade"},{default:d(()=>[O.value?(c(),p("div",{key:0,class:r([[e(s).dropZoneModalOverlay],"fixed inset-0 flex items-center justify-center z-50 px-4"]),onClick:N},[l("div",{class:r([[e(s).dropZoneModalBg],"rounded-lg p-6 w-full max-w-md min-w-full sm:min-w-[320px] mx-4"]),onClick:o[6]||(o[6]=Qe(()=>{},["stop"]))},[l("div",Yt,[n(e(m),{icon:e(nt),class:"text-red-500 w-6 h-6"},null,8,["icon"]),l("h3",{class:r([[e(s).dropZoneModalTitle],"text-lg font-semibold"])},"Confirm Delete",2)]),l("div",{class:r([[e(s).dropZoneModalText],"mb-6 break-words"])},[o[11]||(o[11]=Z(" Are you sure you want to delete ")),l("strong",eo,v(B.value),1),o[12]||(o[12]=Z("? ")),o[13]||(o[13]=l("p",{class:"mt-2 text-xs underline"},"This action cannot be undone.",-1))],2),l("div",to,[n(e(H),{onClick:N,size:"small"},{default:d(()=>o[14]||(o[14]=[Z("Cancel")])),_:1,__:[14]}),n(e(H),{type:"primary",danger:"",onClick:Te,size:"small"},{default:d(()=>o[15]||(o[15]=[Z("Delete")])),_:1,__:[15]})])],2)],2)):x("",!0)]),_:1})],64))}}),so=Ke(ao,[["__scopeId","data-v-525c503c"]]);function ae(f){var L;const M=(L=document.getElementById(f))==null?void 0:L.textContent;if(M)try{const k=atob(M);return JSON.parse(k)}catch(k){console.error(`Error parsing data from element #${f}:`,k)}else console.error(`Element with ID '${f}' not found or is empty.`);return null}const oe=ae("data-theme"),Me=ae("data-common"),De=ae("data-settings");if(oe&&Me&&De)try{const f=Ye(so),M=lt();f.use(M),f.provide("data-theme",{selectedTheme:oe.selected_theme,selectedBack:oe.selected_back}),f.provide("data-common",{version:Me.version}),f.provide("data-settings",{userName:De.user_name});const L=et();f.use(L),f.mount("#app-dropzone-root")}catch(f){console.error("Error initializing the Vue app:",f)}else console.error("Required data (data-theme or data-initial) is missing or invalid.");
