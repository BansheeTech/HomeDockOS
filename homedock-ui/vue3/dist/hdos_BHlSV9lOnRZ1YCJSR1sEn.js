import{j as Je,q as Qe,r as f,d as he,B as ea,w as ye,v as u,z as i,y as t,G as r,x as l,u as e,R as Z,U as V,Y as x,M as d,H as p,E as k,F as w,N as aa,D as te,I as be,W as _e,_ as ta}from"./hdos_Dbq3fhnkqH76jQuyDCTTt.js";import{a as F,d as q}from"./hdos_BbS_vWe5DNlDDYAPlKxdN.js";import{g as sa,a8 as la,u as oa,f as na,x as ra,F as re,X as ce,l as we,m as Ce,a7 as ca,ag as ie,ah as ia,a6 as Te,B as De}from"./hdos_C5AEMY2HFY_-h_mOBTkJ4.js";import{_ as da}from"./hdos_DR-AppMpnYI3uQEIV7tI7.js";import{d as pa}from"./hdos_DzD_9-ae9bJuHOkfQ9Haz.js";import{d as ua}from"./hdos_D-aTiBESONjHycDbZB5aD.js";import{a as ma,d as ga}from"./hdos_D9gVk9b8g3MJ-LyNUp2f3.js";import{d as de}from"./hdos_D4VENToS-RM0shQaDqhsL.js";import{d as va}from"./hdos_CS7Pix6yyXf4PLMilHEK5.js";import{a as fa,d as xa}from"./hdos_D7DZAtFwektbc_d3JJwvS.js";import{d as ka}from"./hdos_BnHh7eiIC22BYAb-ukhLa.js";import{d as ha}from"./hdos_BuEVk6rQmC7xvD5ksrgjb.js";import{B as pe}from"./hdos_gi4ZqcIwcXFS2y0HUDFtL.js";import{a as ue}from"./hdos__C6XHRJJOpihfwjAAEWaK.js";import"./hdos_DYMRrVh6eAnILluBOQevy.js";import{I as E}from"./hdos_rt9z7PzP3AM6gg1GVl6Eb.js";import{c as S,S as Se}from"./hdos_BzXNcRU4sF9d--ytqtf1Y.js";import{j as g}from"./hdos_BIpjuF1XxdpJ6XOgmz5z6.js";import"./hdos_Dz3aTMQqM4LnOlKzV3COc.js";import"./hdos_itWSuQ2oYLgMGq-Z_V6WL.js";import"./hdos_D9OrELHR35j-7vcwagI1C.js";import"./hdos_CE1G-McAXm7G2-tH-xmrF.js";import"./hdos_DCQvziD-0BGtLQC-jPv6N.js";import"./hdos_CJoaCRc7PMIr83ndc1bSY.js";import"./hdos_BMinznI1SgDjG1GLhiYLN.js";import"./hdos_Ce05jrhR34kDkwVUkTBSn.js";import"./hdos_CNtsy7prIlCqgyE1iBI3a.js";import"./hdos_BJ0AbwQX4fz6PIT4pw67U.js";import"./hdos_CXZVyE3kgKoiCYjvoFmHI.js";import"./hdos_Clk8ViuslpLBU5LfImMV0.js";import"./hdos_BjJF5rDxeBNZm4L-rb8fE.js";import"./hdos_D63Tfrq7hZ9D-jbqbBA6V.js";const ya={width:24,height:24,body:'<path fill="currentColor" d="m8.5 13.5l2.5 3l3.5-4.5l4.5 6H5m16 1V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2Z"/>'},Be={width:24,height:24,body:'<path fill="currentColor" d="M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12V1Z"/>'},ba={width:24,height:24,body:'<path fill="currentColor" d="m19 1l-1.26 2.75L15 5l2.74 1.26L19 9l1.25-2.74L23 5l-2.75-1.25M9 4L6.5 9.5L1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5M19 15l-1.26 2.74L15 19l2.74 1.25L19 23l1.25-2.75L23 19l-2.75-1.26"/>'},_a={width:24,height:24,body:'<path fill="currentColor" d="M22 4h-8l-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2M2 6H0v14a2 2 0 0 0 2 2h18v-2H2V6Z"/>'},wa={width:24,height:24,body:'<path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m4 18H6V4h7v5h5v11Z"/>'},Ca={width:24,height:24,body:'<path fill="currentColor" d="M11 13.5v8H3v-8h8m-2 2H5v4h4v-4M12 2l5.5 9h-11L12 2m0 3.86L10.08 9h3.84L12 5.86M17.5 13c2.5 0 4.5 2 4.5 4.5S20 22 17.5 22S13 20 13 17.5s2-4.5 4.5-4.5m0 2a2.5 2.5 0 0 0-2.5 2.5a2.5 2.5 0 0 0 2.5 2.5a2.5 2.5 0 0 0 2.5-2.5a2.5 2.5 0 0 0-2.5-2.5Z"/>'},Ta={width:24,height:24,body:'<path fill="currentColor" d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12 3c-1.97 0-3.85.47-5.56 1.41c-.24.13-.54.04-.68-.2a.506.506 0 0 1 .2-.68C7.82 2.5 9.86 2 12 2s4 .47 6.04 1.5c.25.15.34.45.21.69a.48.48 0 0 1-.44.28M3.5 9.72c-.1 0-.2-.03-.29-.09a.517.517 0 0 1-.12-.7c.99-1.4 2.25-2.5 3.75-3.27C10 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.85 3.75 3.25c.16.22.1.54-.12.7c-.23.16-.54.11-.7-.1a9.257 9.257 0 0 0-3.39-2.96c-2.87-1.47-6.54-1.47-9.4.01c-1.36.7-2.5 1.7-3.4 2.95c-.08.15-.23.22-.39.22m6.25 12.07c-.13 0-.25-.05-.35-.15c-.87-.87-1.34-1.43-2.01-2.64c-.69-1.23-1.05-2.73-1.05-4.34c0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39a.5.5 0 0 1-.5.5a.5.5 0 0 1-.5-.5c0-2.42-2.09-4.39-4.66-4.39c-2.57 0-4.66 1.97-4.66 4.39c0 1.44.32 2.77.93 3.84c.64 1.16 1.08 1.65 1.85 2.43c.19.2.19.51 0 .71c-.12.1-.24.15-.37.15m7.17-1.85c-1.19 0-2.24-.3-3.1-.89c-1.49-1.01-2.38-2.65-2.38-4.39a.5.5 0 0 1 .5-.5a.5.5 0 0 1 .5.5c0 1.41.72 2.74 1.94 3.56c.71.48 1.54.71 2.54.71c.24 0 .64-.03 1.04-.1c.27-.05.54.13.58.41c.05.26-.13.53-.41.58c-.57.11-1.07.12-1.21.12M14.91 22h-.13c-1.59-.46-2.63-1.05-3.72-2.12a7.28 7.28 0 0 1-2.17-5.22c0-1.62 1.38-2.94 3.08-2.94c1.7 0 3.08 1.32 3.08 2.94c0 1.07.95 1.94 2.08 1.94c1.15 0 2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83c-2.84 0-5.46 1.58-6.61 4.03c-.39.81-.59 1.76-.59 2.8c0 .78.07 2.01.67 3.61c.1.26-.03.55-.29.64a.504.504 0 0 1-.64-.29c-.5-1.31-.73-2.62-.73-3.96c0-1.2.23-2.29.68-3.24c1.33-2.79 4.28-4.6 7.51-4.6c4.54 0 8.25 3.51 8.25 7.83c0 1.62-1.38 2.94-3.08 2.94c-1.7 0-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51c.95.94 1.86 1.46 3.27 1.84c.27.08.42.36.35.62c-.05.23-.26.38-.47.38Z"/>'},Da={class:"app-packager flex flex-col h-full overflow-hidden"},Sa={class:"flex-1 overflow-auto"},Ba=["onClick"],Aa={key:0},$a={class:"flex items-center gap-2 mb-4"},Ia={class:"space-y-6"},La={class:"flex flex-col md:flex-row gap-4 md:gap-6"},Pa={class:"flex-1 flex flex-col"},Ha={class:"relative h-full"},Ua={class:"ant-upload-drag-icon"},Ma={key:0,class:"absolute bottom-0 left-0 right-0 p-2"},Fa={class:"flex-1 flex flex-col"},Ea={class:"flex items-center align-center justify-center flex-col h-full"},Ra={class:"ant-upload-drag-icon"},ja=["src"],Oa={class:"flex flex-col md:grid md:grid-cols-2 gap-4 md:gap-x-6 md:gap-y-4"},Na={class:"flex gap-2"},Za={class:"flex gap-2"},Va=["disabled"],za={key:1},Ga={class:"flex items-center gap-2 mb-4"},Wa={class:"space-y-4"},Xa={class:"flex items-center align-center justify-center flex-col py-6"},qa={class:"ant-upload-drag-icon"},Ya=["disabled"],Ka={class:"flex items-center justify-between mb-4"},Ja={class:"flex items-center gap-2"},Qa={key:0,class:"flex items-center justify-center py-8"},et={key:2,class:"space-y-3"},at=["onClick","disabled","title"],tt={class:"flex items-center gap-2 mb-2"},st={key:0,class:"flex items-center gap-2"},lt={key:1,class:"flex items-center gap-2"},ot={class:"font-mono"},nt={key:2,class:"flex items-center gap-2"},rt={key:3,class:"flex items-center gap-2"},ct={class:"flex items-center gap-2"},it={key:4,class:"flex items-center gap-2 min-w-0"},dt={class:"truncate"},pt={class:"flex items-center gap-2 mb-4"},ut={key:1,class:"space-y-4"},mt=["disabled"],gt={class:"hidden lg:grid lg:grid-cols-2 gap-4",style:{height:"480px"}},vt={class:"flex flex-col"},ft={class:"flex items-center gap-2 mb-2"},xt={class:"flex flex-col overflow-hidden"},kt={class:"flex items-center gap-2 mb-2"},ht={class:"flex-1 overflow-y-auto pr-2"},yt={class:"space-y-3"},bt={class:"flex items-start justify-between gap-3"},_t={class:"flex-1 space-y-2"},wt={class:"flex items-center gap-2"},Ct=["onClick"],Tt={class:"lg:hidden flex flex-col space-y-4"},Dt={class:"flex flex-col"},St={class:"flex items-center gap-2 mb-2"},Bt={class:"flex items-center gap-2"},At={class:"space-y-3"},$t={class:"flex items-start justify-between gap-3"},It={class:"flex-1 space-y-2"},Lt={class:"flex items-center gap-2 flex-wrap"},Pt=["onClick"],Ht={class:"space-y-4"},Ut={class:"flex items-start gap-3"},Mt={class:"flex-1"},Ft={class:"text-xs font-mono"},Et={class:"space-y-2.5 max-w-sm"},Rt={class:"flex items-center gap-2"},jt={key:0},Ot={key:1},Ae=5*1024*1024,$e=10*1024*1024,Ie=5*1024*1024,Nt=Je({__name:"AppPackager",setup(Zt){const{themeClasses:a}=Qe(),B=sa(),{confirm:Le}=la(),Y=oa(),me=na(),R=f("generator"),Pe=[{id:"generator",label:"Package Generator",icon:ba},{id:"manager",label:"Package Manager",icon:_a}],K=f(!1),z=[{placeholder:"[[HD_LOCAL_IP]]",description:"Local IP address of the system",example:"192.168.1.100"},{placeholder:"[[HD_INTERNET_IP]]",description:"Public internet IP address",example:"203.0.113.45"},{placeholder:"[[HD_USER_NAME]]",description:"HomeDock OS Username",example:"admin"},{placeholder:"[[HD_PASSWORD]]",description:"Auto-generated simple password",example:"apple_banana_1234"},{placeholder:"[[HD_SYSTEM_PASSWORD]]",description:"Auto-generated secure password (20 chars)",example:"aB3dE5fG7hI9jK1lM3nO"},{placeholder:"[[HD_RND_STR]]",description:"Random string (16 chars)",example:"xY4zW9qR2sT7vU1p"},{placeholder:"[[INSTALL_PATH]]",description:"App configuration storage path",example:`Linux: /DATA/HomeDock/AppData/
macOS: /Users/{username}/HomeDock/AppData/
Windows: /mnt/c/HomeDock/AppData/`},{placeholder:"[[APP_MOUNT_POINT]]",description:"App data storage path",example:`Linux: /DATA/HomeDock/AppFolders/
macOS: /Users/{username}/HomeDock/AppFolders/
Windows: /mnt/c/HomeDock/AppFolders/`},{placeholder:"[[SSL_CERT_PATH]]",description:"SSL certificates directory path",example:`Linux: /DATA/SSLCerts
macOS: /Users/{username}/HomeDock/SSLCerts
Windows: /mnt/c/HomeDock/SSLCerts

Make sure to mount them as :ro (read-only) in your Docker Compose.`}],y=f(null),A=f([]),v=f(""),ge=f(""),J=f(!1),$=f(null),Q=f([]),j=f(null),L=f(!1),C=f({}),O=he(()=>{const n=v.value;return n?z.map(o=>o.placeholder).filter(o=>n.includes(o)):[]}),c=f({slug:"",display_name:"",category:"Media",type:"",description:"",docker_image:"",author:"",version:"latest"}),se=he(()=>y.value&&$.value&&c.value.slug&&c.value.display_name&&c.value.category&&c.value.type&&c.value.description&&c.value.docker_image&&c.value.author),N=f([]),D=f(""),P=f(!1),b=f(null),H=f([]),U=f(!1),ee=f(!1),G=f(null),I=f([]),le=f(!1),M=f(null);ea(()=>{ve()}),ye(()=>Y.apps,()=>{I.value=I.value.map(n=>{const o=Y.apps.find(s=>s.name===n.manifest?.name);return{...n,is_installed:o?.is_installed||!1}})},{deep:!0});const ve=async()=>{await Promise.all([oe(),ne()])},oe=async()=>{try{const n=await F.get("/api/pkg/imported",{headers:{"X-HomeDock-CSRF-Token":B.value}});n.data.success&&(N.value=n.data.apps,N.value.length>0?D.value=N.value[0].name:D.value="")}catch(n){console.error("Error loading imported apps:",n)}},ne=async()=>{le.value=!0;try{const n=await F.get("/api/pkg/list",{headers:{"X-HomeDock-CSRF-Token":B.value}});n.data.success&&(I.value=n.data.apps)}catch(n){console.error("Error loading external apps:",n)}finally{le.value=!1}},W=n=>n<1024?n+" B":n<1024*1024?(n/1024).toFixed(2)+" KB":(n/(1024*1024)).toFixed(2)+" MB",ae=n=>me.currentlyInstalling===n||me.queue.includes(n),He=async({file:n})=>!1,Ue=async n=>{const{fileList:o}=n;if(o.length>0){const s=o[0].originFileObj;if(s.size>$e){g.error(`Compose file is too large. Maximum size: ${W($e)}`),A.value=[];return}y.value=s;const m=new FileReader;m.onload=async h=>{const T=h.target?.result;if(!T||T.trim().length===0){g.error("File is empty. Please upload a valid Docker Compose file."),A.value=[],y.value=null;return}if(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F-\x9F]/.test(T.slice(0,1024))){g.error("Binary file detected. Docker Compose must be a plain text YML file."),A.value=[],y.value=null,v.value="";return}if(!/:\s*\S/.test(T)){g.error("Invalid YML format. File must contain YML key-value pairs (key: value)."),A.value=[],y.value=null,v.value="";return}const _=["<?php","<script","eval(","exec(","__import__"];for(const X of _)if(T.includes(X)){g.error(`Dangerous content detected: ${X}`),A.value=[],y.value=null,v.value="";return}v.value=T,await fe()},m.readAsText(s,"UTF-8")}else y.value=null,v.value=""},fe=async()=>{if(v.value)try{const n=new Blob([v.value],{type:"text/yaml"}),o=new File([n],y.value?.name||"docker-compose.yml",{type:"text/yaml"}),s=new FormData;s.append("compose",o);const m=await F.post("/api/pkg/parse-compose",s,{headers:{"X-HomeDock-CSRF-Token":B.value}});if(m.status===200){if(C.value=m.data.data||{},C.value.image){const h=C.value.image.split(":");c.value.docker_image=h[0],h[1]&&(c.value.version=h[1])}if(C.value.container_name){const h=C.value.container_name;c.value.slug=h.toLowerCase(),c.value.display_name=h.charAt(0).toUpperCase()+h.slice(1)}}}catch(n){console.error("Error parsing compose:",n)}},Me=()=>{ge.value=v.value,J.value=!0},Fe=async()=>{await fe()},Ee=()=>{v.value=ge.value,J.value=!1},Re=n=>["image/jpeg","image/png","image/jpg"].includes(n.type)?n.size<=Ie?!0:(g.error(`Icon file is too large. Maximum size: ${W(Ie)}`),!1):(g.error("Please upload a .jpg, .jpeg, or .png file"),!1),je=async({file:n})=>!1,Oe=n=>{const{fileList:o}=n;if(o.length>0){const s=o[0].originFileObj,m=new FileReader;m.onload=h=>{const T=h.target?.result,_=new Uint8Array(T),X=_[0]===255&&_[1]===216&&_[2]===255,Ye=_[0]===137&&_[1]===80&&_[2]===78&&_[3]===71;if(!X&&!Ye){g.error("Invalid image format. Only JPG and PNG images are allowed."),Q.value=[],$.value=null,j.value=null;return}$.value=s;const ke=new FileReader;ke.onload=Ke=>{j.value=Ke.target?.result},ke.readAsDataURL(s)},m.readAsArrayBuffer(s)}else $.value=null,j.value=null},xe=n=>{navigator.clipboard.writeText(n),g.success(`Copied: ${n}`)},Ne=async()=>{if(se.value){L.value=!0;try{const n=new FormData;if(v.value){const T=new Blob([v.value],{type:"text/yaml"}),_=new File([T],y.value?.name||"docker-compose.yml",{type:"text/yaml"});n.append("compose",_)}else n.append("compose",y.value);n.append("icon",$.value),n.append("slug",c.value.slug),n.append("display_name",c.value.display_name),n.append("category",c.value.category),n.append("type",c.value.type),n.append("description",c.value.description),n.append("docker_image",c.value.docker_image),n.append("author",c.value.author),n.append("version",c.value.version);const o=await F.post("/api/pkg/create",n,{headers:{"X-HomeDock-CSRF-Token":B.value},responseType:"blob"}),s=new Blob([o.data]),m=window.URL.createObjectURL(s),h=document.createElement("a");h.href=m,h.download=`${c.value.slug}.hds`,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(m),g.success(`Successfully created ${c.value.slug}.hds`),y.value=null,A.value=[],v.value="",$.value=null,Q.value=[],j.value=null,C.value={},c.value={slug:"",display_name:"",category:"Media",type:"",description:"",docker_image:"",author:"",version:"latest"}}catch(n){console.error("Creation error:",n),g.error("Creation failed. Please try again.")}finally{L.value=!1}}},Ze=async()=>{if(D.value){P.value=!0;try{const n=await F.get(`/api/pkg/export-imported?app_name=${D.value}`,{headers:{"X-HomeDock-CSRF-Token":B.value},responseType:"blob"}),o=new Blob([n.data]),s=window.URL.createObjectURL(o),m=document.createElement("a");m.href=s,m.download=`${D.value}.hds`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(s),g.success(`Successfully exported ${D.value}.hds`)}catch(n){console.error("Export error:",n),g.error("Export failed. Please try again.")}finally{P.value=!1}}},Ve=async({file:n})=>!1,ze=n=>{const{fileList:o}=n;if(o.length>0){const s=o[0].originFileObj;if(!s.name.endsWith(".hds")){g.error("Please upload a .hds file"),H.value=[],b.value=null;return}if(s.size>Ae){g.error(`Package file is too large. Maximum size: ${W(Ae)}`),H.value=[],b.value=null;return}const m=new FileReader;m.onload=h=>{const T=h.target?.result,_=new Uint8Array(T);if(!(_[0]===80&&_[1]===75&&_[2]===3&&_[3]===4)){g.error("Invalid .hds file. Package must be a valid HDS file."),H.value=[],b.value=null;return}b.value=s},m.readAsArrayBuffer(s.slice(0,4))}else b.value=null},Ge=async()=>{if(b.value){U.value=!0;try{const n=new FormData;n.append("file",b.value);const o=await F.post("/api/pkg/upload",n,{headers:{"X-HomeDock-CSRF-Token":B.value}});if(!o.data.success){g.error(`Upload failed: ${o.data.message}`);return}const s=o.data.display_name||b.value.name;g.success(`Successfully imported ${s}! The app is now available in your App Store.`),b.value=null,H.value=[],ne(),oe(),await Y.loadApps(B.value)}catch(n){console.error("Upload error:",n),n.response?.status===409&&n.response?.data?.code==="PACKAGE_EXISTS"?(G.value={displayName:n.response.data.display_name,appSlug:n.response.data.app_slug,existingFiles:n.response.data.existing_files},ee.value=!0):g.error("Upload failed. Please try again.")}finally{U.value=!1}}},We=()=>{ee.value=!1,G.value=null,b.value=null,H.value=[]},Xe=async n=>{const o=I.value.find(m=>m.filename===n),s=o?.manifest?.name;if(o?.is_installed){g.error("Cannot delete this package: The app is currently installed. Please uninstall it from the App Store first.");return}if(s&&ae(s)){g.error("Cannot delete this package: The app is currently installing. Please wait for the installation to complete.");return}Le({title:"Confirm Deletion",content:`Are you sure you want to completely delete ${n}? This will remove it from the App Store.`,okText:"Delete",cancelText:"Cancel",onOk:async()=>{await qe(n)}})},qe=async n=>{M.value=n;try{const o=await F.post("/api/pkg/delete",{filename:n},{headers:{"Content-Type":"application/json","X-HomeDock-CSRF-Token":B.value}});if(!o.data.success){g.error(`Deletion failed: ${o.data.message}`);return}g.success("Package and all associated files deleted successfully"),ne(),oe(),await Y.loadApps(B.value)}catch(o){console.error("Deletion error:",o),o.response?.status===409?g.error(o.response.data.message||"Cannot delete: App is currently installed"):g.error("Deletion failed. Please try again.")}finally{M.value=null}};return ye(()=>c.value.slug,(n,o)=>{if(!(!v.value||!o||!n)&&n!==o)try{const s=new RegExp(`(\\s*container_name:\\s*)${o}\\b`,"g");if(s.test(v.value))v.value=v.value.replace(s,`$1${n}`);else{const m=/(services:\s*\n\s+[\w-]+:\s*\n)/;m.test(v.value)&&(v.value=v.value.replace(m,`$1    container_name: ${n}
`))}}catch(s){console.error("Error updating container_name:",s)}}),(n,o)=>(i(),u("div",Da,[t("div",Sa,[t("div",{class:l(["flex gap-2 border-b",e(a).packagerCardBorder])},[(i(),u(Z,null,V(Pe,s=>t("button",{key:s.id,onClick:m=>R.value=s.id,class:l(["px-4 py-3 font-medium text-sm transition-colors border-b-2 -mb-px flex items-center justify-center",R.value===s.id?e(a).packagerTabActive:`border-transparent ${e(a).packagerTabHover}`,e(a).packagerText])},[r(e(d),{icon:s.icon,class:"w-4 h-4 mr-2"},null,8,["icon"]),x(" "+p(s.label),1)],10,Ba)),64))],2),R.value==="generator"?(i(),u("div",Aa,[t("div",{class:l(["mb-6 rounded-lg p-5",e(a).packagerCardBorder])},[t("div",$a,[r(e(d),{icon:e(pa),class:l(["w-6 h-6",e(a).packagerText])},null,8,["icon","class"]),t("h3",{class:l(["text-lg font-semibold",e(a).packagerText])},"Package Generator",2)]),t("div",Ia,[t("div",La,[t("div",Pa,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," Docker Compose * ",2),r(e(ue),{class:l([[e(a).dropZoneDragHolder,e(a).scopeSelector],"compact-dragger h-[180px]"]),"file-list":A.value,"onUpdate:fileList":o[0]||(o[0]=s=>A.value=s),name:"compose",accept:".yml,.yaml",multiple:!1,customRequest:He,onChange:Ue,showUploadList:!1,maxCount:1},{default:k(()=>[t("div",Ha,[t("div",{class:l(["flex items-center justify-center flex-col h-full",y.value?"pb-12":""])},[t("p",Ua,[r(e(d),{icon:y.value?e(ra):e(re),class:l(["text-4xl",y.value?e(a).packagerSuccessIcon:e(a).dropZoneDragIcon])},null,8,["icon","class"])]),t("p",{class:l([e(a).dropZoneDragUpText,"px-4 text-balance text-sm"])},p(y.value?y.value.name:"Click or drag .yml/.yaml here"),3),C.value.image?(i(),u("p",{key:0,class:l(["text-xs mt-1",e(a).packagerSuccessText])},"✓ Detected: "+p(C.value.image),3)):w("",!0)],2),y.value?(i(),u("div",Ma,[r(e(pe),{onClick:aa(Me,["stop"]),class:l([[e(a).scopeSelector],"w-full flex items-center justify-center"]),type:"primary",size:"small"},{default:k(()=>[r(e(d),{icon:e(fa),class:"w-4 h-4 mr-2"},null,8,["icon"]),o[19]||(o[19]=t("span",null,"Edit Compose",-1))]),_:1},8,["class"])])):w("",!0)])]),_:1},8,["class","file-list"])]),t("div",Fa,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," App Icon * ",2),r(e(ue),{class:l([[e(a).dropZoneDragHolder,e(a).scopeSelector],"compact-dragger h-[180px]"]),"file-list":Q.value,"onUpdate:fileList":o[1]||(o[1]=s=>Q.value=s),name:"icon",accept:".jpg,.jpeg,.png",multiple:!1,customRequest:je,onChange:Oe,showUploadList:!1,maxCount:1,beforeUpload:Re},{default:k(()=>[t("div",Ea,[t("p",Ra,[j.value?(i(),u("img",{key:1,src:j.value,class:"w-16 h-16 rounded object-cover"},null,8,ja)):(i(),te(e(d),{key:0,icon:e(ya),class:l(["text-5xl",e(a).dropZoneDragIcon])},null,8,["icon","class"]))]),t("p",{class:l([e(a).dropZoneDragUpText,"px-4 text-balance text-sm"])},p($.value?$.value.name:"Click or drag image here"),3),t("p",{class:l([e(a).dropZoneDragDownText,"px-4 text-balance text-xs"])},".jpg or .png",2)])]),_:1},8,["class","file-list"])])]),t("div",Oa,[t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])},[...o[20]||(o[20]=[x(" App Slug * ",-1),t("span",{class:"text-xs opacity-70"},"(for filenames)",-1)])],2),r(e(E),{value:c.value.slug,"onUpdate:value":o[2]||(o[2]=s=>c.value.slug=s),placeholder:"e.g., my-awesome-app",class:l([e(a).scopeSelector,e(a).loginFormInput])},null,8,["value","class"]),t("p",{class:l(["text-xs mt-1",e(a).packagerTextMuted])},"Lowercase, no spaces (use dashes)",2)]),t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])},[...o[21]||(o[21]=[x(" App Name * ",-1),t("span",{class:"text-xs opacity-70"},"(display name)",-1)])],2),r(e(E),{value:c.value.display_name,"onUpdate:value":o[3]||(o[3]=s=>c.value.display_name=s),placeholder:"e.g., My Awesome App",class:l([e(a).scopeSelector,e(a).loginFormInput])},null,8,["value","class"]),t("p",{class:l(["text-xs mt-1",e(a).packagerTextMuted])},"The pretty name users will see",2)]),t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," Category * ",2),r(e(Se),{value:c.value.category,"onUpdate:value":o[4]||(o[4]=s=>c.value.category=s),placeholder:"Select Category",class:l([e(a).scopeSelector,e(a).loginFormInput,"w-full"]),"popup-class-name":`${e(a).scopeSelector}`},{default:k(()=>[r(e(S),{value:"AI"},{default:k(()=>[...o[22]||(o[22]=[x("AI",-1)])]),_:1}),r(e(S),{value:"Developer Tools"},{default:k(()=>[...o[23]||(o[23]=[x("Developer Tools",-1)])]),_:1}),r(e(S),{value:"Files & Productivity"},{default:k(()=>[...o[24]||(o[24]=[x("Files & Productivity",-1)])]),_:1}),r(e(S),{value:"Gaming"},{default:k(()=>[...o[25]||(o[25]=[x("Gaming",-1)])]),_:1}),r(e(S),{value:"Home & Automation"},{default:k(()=>[...o[26]||(o[26]=[x("Home & Automation",-1)])]),_:1}),r(e(S),{value:"Media"},{default:k(()=>[...o[27]||(o[27]=[x("Media",-1)])]),_:1}),r(e(S),{value:"Networking"},{default:k(()=>[...o[28]||(o[28]=[x("Networking",-1)])]),_:1}),r(e(S),{value:"Social"},{default:k(()=>[...o[29]||(o[29]=[x("Social",-1)])]),_:1}),r(e(S),{value:"Web Development"},{default:k(()=>[...o[30]||(o[30]=[x("Web Development",-1)])]),_:1})]),_:1},8,["value","class","popup-class-name"])]),t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," Type * ",2),r(e(E),{value:c.value.type,"onUpdate:value":o[5]||(o[5]=s=>c.value.type=s),placeholder:"e.g., Media Server",class:l([e(a).scopeSelector,e(a).loginFormInput])},null,8,["value","class"])]),t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," Docker Image * ",2),t("div",Na,[r(e(E),{value:c.value.docker_image,"onUpdate:value":o[6]||(o[6]=s=>c.value.docker_image=s),placeholder:"e.g., myuser/myapp",class:l([e(a).scopeSelector,e(a).loginFormInput,"flex-1"])},null,8,["value","class"]),C.value.image?(i(),te(e(pe),{key:0,onClick:o[7]||(o[7]=s=>c.value.docker_image=C.value.image.split(":")[0]),class:l([[e(a).scopeSelector],"flex items-center justify-center"]),type:"primary",title:"Use detected image"},{default:k(()=>[r(e(d),{icon:e(ce),class:"w-4 h-4"},null,8,["icon"])]),_:1},8,["class"])):w("",!0)])]),t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," Version * ",2),t("div",Za,[r(e(E),{value:c.value.version,"onUpdate:value":o[8]||(o[8]=s=>c.value.version=s),placeholder:"e.g., latest",class:l([e(a).scopeSelector,e(a).loginFormInput,"flex-1"])},null,8,["value","class"]),C.value.tag?(i(),te(e(pe),{key:0,onClick:o[9]||(o[9]=s=>c.value.version=C.value.tag),class:l([[e(a).scopeSelector],"flex items-center justify-center"]),type:"primary",title:"Use detected version"},{default:k(()=>[r(e(d),{icon:e(ce),class:"w-4 h-4"},null,8,["icon"])]),_:1},8,["class"])):w("",!0)])])]),t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," Author * ",2),r(e(E),{value:c.value.author,"onUpdate:value":o[10]||(o[10]=s=>c.value.author=s),placeholder:"Your name or organization",class:l([e(a).scopeSelector,e(a).loginFormInput])},null,8,["value","class"])]),t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," Description * ",2),r(e(E),{value:c.value.description,"onUpdate:value":o[11]||(o[11]=s=>c.value.description=s),placeholder:"Describe what this application does...",maxlength:130,class:l([e(a).scopeSelector,e(a).loginFormInput])},null,8,["value","class"])]),t("button",{onClick:Ne,disabled:!se.value||L.value,class:l(["w-full py-2.5 px-4 rounded-md font-medium transition-colors flex items-center justify-center gap-2",se.value&&!L.value?`${e(a).packagerSuccessButtonBg} ${e(a).packagerSuccessButtonBgHover} ${e(a).packagerPrimaryButtonText} cursor-pointer`:`${e(a).packagerButtonDisabledBg} ${e(a).packagerButtonDisabledText} cursor-not-allowed`])},[r(e(d),{icon:L.value?e(q):e(we),class:l(["w-5 h-5",L.value?"animate-spin":""])},null,8,["icon","class"]),x(" "+p(L.value?"Creating Package...":"Create & Download .hds Package"),1)],10,Va)])],2)])):(i(),u("div",za,[t("div",{class:l(["mb-8 rounded-lg p-5",e(a).packagerCardBorder])},[t("div",Ga,[r(e(d),{icon:e(ma),class:l(["w-6 h-6",e(a).packagerText])},null,8,["icon","class"]),t("h3",{class:l(["text-lg font-semibold",e(a).packagerText])},"Import Package to App Store",2)]),t("p",{class:l(["text-sm mb-4",e(a).packagerTextMuted])},"Upload a .hds package to automatically install it and make it available in the App Store.",2),t("div",Wa,[t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," Upload .hds Package ",2),r(e(ue),{class:l([[e(a).dropZoneDragHolder,e(a).scopeSelector],"compact-dragger"]),"file-list":H.value,"onUpdate:fileList":o[12]||(o[12]=s=>H.value=s),name:"package",accept:".hds",multiple:!1,customRequest:Ve,onChange:ze,showUploadList:!1,maxCount:1},{default:k(()=>[t("div",Xa,[t("p",qa,[r(e(d),{icon:e(Ce),class:l(["text-5xl",e(a).dropZoneDragIcon])},null,8,["icon","class"])]),t("p",{class:l([e(a).dropZoneDragUpText,"px-4 text-balance text-sm"])},p(b.value?b.value.name:"Click or drag .hds file here"),3),t("p",{class:l([e(a).dropZoneDragDownText,"px-4 text-balance text-xs"])},p(b.value?W(b.value.size):"Will appear instantly in App Store"),3)])]),_:1},8,["class","file-list"])]),t("button",{onClick:Ge,disabled:!b.value||U.value,class:l(["w-full py-2.5 px-4 rounded-md font-medium transition-colors flex items-center justify-center gap-2",b.value&&!U.value?`${e(a).packagerPrimaryButtonBg} ${e(a).packagerPrimaryButtonBgHover} ${e(a).packagerPrimaryButtonText} cursor-pointer`:`${e(a).packagerButtonDisabledBg} ${e(a).packagerButtonDisabledText} cursor-not-allowed`])},[r(e(d),{icon:U.value?e(q):e(Ce),class:l(["w-5 h-5",U.value?"animate-spin":""])},null,8,["icon","class"]),x(" "+p(U.value?"Importing...":"Import to App Store"),1)],10,Ya)])],2),t("div",{class:l(["mb-8 rounded-lg p-5",e(a).packagerCardBorder])},[t("div",Ka,[t("div",Ja,[r(e(d),{icon:e(ca),class:l(["w-6 h-6",e(a).packagerText])},null,8,["icon","class"]),t("h3",{class:l(["text-lg font-semibold",e(a).packagerText])},"Imported Packages",2)]),t("button",{onClick:ve,class:l(["p-2 rounded-md transition-colors",e(a).buttonBG,e(a).buttonHover]),title:"Refresh list"},[r(e(d),{icon:e(ce),class:l(["w-5 h-5",e(a).packagerText])},null,8,["icon","class"])],2)]),t("p",{class:l(["text-sm mb-4",e(a).packagerTextMuted])},"These packages are already available in your App Store. Delete to remove completely.",2),le.value?(i(),u("div",Qa,[r(e(d),{icon:e(q),class:l(["w-8 h-8 animate-spin",e(a).packagerTextMuted])},null,8,["icon","class"])])):I.value.length===0?(i(),u("div",{key:1,class:l(["text-center py-8 text-sm",e(a).packagerTextMuted])},"No imported packages found. Upload a .hds file to get started.",2)):(i(),u("div",et,[(i(!0),u(Z,null,V(I.value,s=>(i(),u("div",{key:s.filename,class:l(["relative rounded-lg p-4 border",e(a).packagerListItemBg,s.is_valid?e(a).packagerListItemBorder:e(a).packagerErrorBorder])},[t("button",{onClick:m=>Xe(s.filename),disabled:s.is_installed||ae(s.manifest?.name)||M.value===s.filename,class:l(["absolute top-2 right-2 p-2 rounded-md transition-colors flex items-center justify-center",s.is_installed||ae(s.manifest?.name)||M.value===s.filename?`${e(a).packagerButtonDisabledBg} ${e(a).packagerButtonDisabledText} cursor-not-allowed`:`${e(a).packagerDangerButtonBg} ${e(a).packagerDangerButtonBgHover} ${e(a).packagerPrimaryButtonText} cursor-pointer`]),title:s.is_installed?"Cannot delete: App is installed. Uninstall it from App Store first.":ae(s.manifest?.name)?"Cannot delete: App is currently installing":M.value===s.filename?"Deleting...":"Delete package"},[r(e(d),{icon:M.value===s.filename?e(q):e(va),class:l(["w-4 h-4",M.value===s.filename?"animate-spin":""])},null,8,["icon","class"])],10,at),t("div",tt,[r(e(d),{icon:s.is_valid?e(ie):e(de),class:l(["w-5 h-5",s.is_valid?"text-amber-600":e(a).packagerErrorText])},null,8,["icon","class"]),t("h4",{class:l(["font-semibold text-sm",e(a).packagerText])},p(s.manifest?.display_name||s.manifest?.name||s.filename),3)]),s.manifest?(i(),u("p",{key:0,class:l(["text-xs mb-3",e(a).packagerTextMuted])},p(s.manifest.description),3)):w("",!0),t("div",{class:l(["text-xs space-y-1",e(a).packagerListMetaText])},[s.manifest?(i(),u("p",st,[r(e(d),{icon:e(ka),class:"w-3.5 h-3.5 flex-shrink-0"},null,8,["icon"]),t("span",{class:l(["font-medium",e(a).packagerListMetaLabel])},"HDS Publisher:",2),t("span",null,p(s.manifest.author),1)])):w("",!0),s.manifest?.docker_image?(i(),u("p",lt,[r(e(d),{icon:e(ia),class:"w-3.5 h-3.5 flex-shrink-0"},null,8,["icon"]),t("span",{class:l(["font-medium",e(a).packagerListMetaLabel])},"Image:",2),t("span",ot,p(s.manifest.docker_image),1)])):w("",!0),s.manifest?(i(),u("p",nt,[r(e(d),{icon:e(ha),class:"w-3.5 h-3.5 flex-shrink-0"},null,8,["icon"]),t("span",{class:l(["font-medium",e(a).packagerListMetaLabel])},"Version:",2),t("span",null,p(s.manifest.version),1)])):w("",!0),s.manifest?(i(),u("p",rt,[r(e(d),{icon:e(Ca),class:"w-3.5 h-3.5 flex-shrink-0"},null,8,["icon"]),t("span",{class:l(["font-medium",e(a).packagerListMetaLabel])},"Category:",2),t("span",null,p(s.manifest.category),1)])):w("",!0),t("p",ct,[r(e(d),{icon:e(wa),class:"w-3.5 h-3.5 flex-shrink-0"},null,8,["icon"]),t("span",{class:l(["font-medium",e(a).packagerListMetaLabel])},"File:",2),t("span",null,p(s.filename)+" ("+p(W(s.size))+")",1)]),s.hash?(i(),u("p",it,[r(e(d),{icon:e(Ta),class:"w-3.5 h-3.5 flex-shrink-0"},null,8,["icon"]),t("span",{class:l(["font-medium flex-shrink-0",e(a).packagerListMetaLabel])},"Hash:",2),t("span",dt,p(s.hash),1)])):w("",!0),s.is_valid?w("",!0):(i(),u("p",{key:5,class:l(e(a).packagerErrorText)},[r(e(d),{icon:e(de),class:"w-3 h-3 inline"},null,8,["icon"]),x(" "+p(s.validation_message),1)],2))],2)],2))),128))]))],2),t("div",{class:l(["rounded-lg p-5",e(a).packagerCardBorder])},[t("div",pt,[r(e(d),{icon:e(ua),class:l(["w-6 h-6",e(a).packagerText])},null,8,["icon","class"]),t("h3",{class:l(["text-lg font-semibold",e(a).packagerText])},"Export Imported Apps",2)]),t("p",{class:l(["text-sm mb-4",e(a).packagerTextMuted])},"Export any imported app as a .hds package to share or backup.",2),N.value.length===0?(i(),u("div",{key:0,class:l(["text-sm text-center py-4",e(a).packagerTextMuted])},"No imported apps available. Import a .hds package first to export it.",2)):(i(),u("div",ut,[t("div",null,[t("label",{class:l(["block text-sm font-medium mb-2",e(a).packagerText])}," Select Imported App to Export ",2),r(e(Se),{value:D.value,"onUpdate:value":o[13]||(o[13]=s=>D.value=s),placeholder:"-- Select an app --",class:l(["w-full",[e(a).scopeSelector,e(a).loginFormInput]]),"popup-class-name":`${e(a).scopeSelector}`},{default:k(()=>[(i(!0),u(Z,null,V(N.value,s=>(i(),te(e(S),{key:s.name,value:s.name},{default:k(()=>[x(p(s.display_name||s.name)+" ("+p(s.metadata.category)+")",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","class","popup-class-name"])]),t("button",{onClick:Ze,disabled:!D.value||P.value,class:l(["w-full py-2.5 px-4 rounded-md font-medium transition-colors flex items-center justify-center gap-2",D.value&&!P.value?`${e(a).packagerPrimaryButtonBg} ${e(a).packagerPrimaryButtonBgHover} ${e(a).packagerPrimaryButtonText} cursor-pointer`:`${e(a).packagerButtonDisabledBg} ${e(a).packagerButtonDisabledText} cursor-not-allowed`])},[r(e(d),{icon:P.value?e(q):e(we),class:l(["w-5 h-5",P.value?"animate-spin":""])},null,8,["icon","class"]),x(" "+p(P.value?"Exporting...":"Export as .hds"),1)],10,mt)]))],2)]))]),r(De,{visible:J.value,"onUpdate:visible":o[17]||(o[17]=s=>J.value=s),type:"info",title:"Edit Docker Compose","ok-text":"Save & Re-parse","cancel-text":"Cancel","ok-cancel":!0,width:1200,onOk:Fe,onCancel:Ee},{default:k(()=>[t("div",gt,[t("div",vt,[t("div",ft,[r(e(d),{icon:e(re),class:l(["w-5 h-5",e(a).packagerText])},null,8,["icon","class"]),t("label",{class:l(["block text-sm font-medium",e(a).packagerText])},"Docker Compose Content",2)]),be(t("textarea",{"onUpdate:modelValue":o[14]||(o[14]=s=>v.value=s),class:l([e(a).hubTextArea,"compose-editor w-full flex-1 rounded-lg font-mono text-xs resize-none p-3"]),placeholder:"Paste your docker-compose.yml content here...",spellcheck:"false"},null,2),[[_e,v.value]])]),t("div",xt,[t("div",kt,[r(e(d),{icon:e(Te),class:l(["w-5 h-5",e(a).packagerText])},null,8,["icon","class"]),t("label",{class:l(["block text-sm font-medium",e(a).packagerText])},"DevHooks Reference",2),t("span",{class:l(["text-xs px-2 py-0.5 rounded",e(a).packagerBadgeBg,e(a).packagerBadgeText])},p(z.length)+" available",3)]),t("div",ht,[t("p",{class:l(["text-xs mb-3 pb-3 border-b",e(a).packagerTextMuted,e(a).packagerCardBorder])},"Use these placeholders in your Docker Compose file. They will be automatically replaced when installing the package.",2),t("div",yt,[(i(),u(Z,null,V(z,s=>t("div",{key:s.placeholder,class:l(["p-3 rounded-lg border",O.value.includes(s.placeholder)?"border-green-600/50":e(a).packagerCardBorder,e(a).packagerHookItemBg])},[t("div",bt,[t("div",_t,[t("div",wt,[t("code",{class:l(["text-xs font-mono px-2 py-0.5 rounded font-semibold",e(a).packagerCodeBg,e(a).packagerCodeText])},p(s.placeholder),3),O.value.includes(s.placeholder)?(i(),u("span",{key:0,class:l(["text-xs",e(a).packagerSuccessText])},"✓ Used",2)):w("",!0)]),t("p",{class:l(["text-xs",e(a).packagerTextMuted])},p(s.description),3),t("div",{class:l(["text-xs font-mono p-2 rounded border",e(a).packagerExampleBg,e(a).packagerExampleBorder])},[t("p",{class:l(["leading-relaxed",e(a).packagerExampleText]),style:{"white-space":"pre-line"}},p(s.example),3)],2)]),t("button",{onClick:m=>xe(s.placeholder),class:l(["p-1.5 rounded transition-colors flex-shrink-0",e(a).packagerCopyHover]),title:"Copy to clipboard"},[r(e(d),{icon:e(Be),class:l(["w-4 h-4",e(a).packagerCopyIcon])},null,8,["icon","class"])],10,Ct)])],2)),64))])])])]),t("div",Tt,[t("div",Dt,[t("div",St,[r(e(d),{icon:e(re),class:l(["w-5 h-5",e(a).packagerText])},null,8,["icon","class"]),t("label",{class:l(["block text-sm font-medium",e(a).packagerText])},"Docker Compose Content",2)]),be(t("textarea",{"onUpdate:modelValue":o[15]||(o[15]=s=>v.value=s),class:l([e(a).hubTextArea,"compose-editor w-full rounded-lg font-mono text-xs resize-none p-3"]),placeholder:"Paste your docker-compose.yml content here...",spellcheck:"false",rows:"15"},null,2),[[_e,v.value]])]),t("div",{class:l(["rounded-lg border",e(a).packagerCardBorder])},[t("button",{onClick:o[16]||(o[16]=s=>K.value=!K.value),class:l(["w-full px-4 py-3 flex items-center justify-between text-left transition-colors rounded-t-lg","hover:opacity-80"])},[t("div",Bt,[r(e(d),{icon:e(Te),class:l(["w-5 h-5",e(a).packagerText])},null,8,["icon","class"]),t("span",{class:l(["font-medium text-sm",e(a).packagerText])},"DevHooks Reference",2),t("span",{class:l(["text-xs px-2 py-0.5 rounded",e(a).packagerBadgeBg,e(a).packagerBadgeText])},p(z.length)+" available",3)]),r(e(d),{icon:K.value?e(xa):e(ga),class:l(["w-5 h-5",e(a).packagerText])},null,8,["icon","class"])]),K.value?(i(),u("div",{key:0,class:l(["p-4 border-t max-h-96 overflow-y-auto",e(a).packagerCardBorder])},[t("p",{class:l(["text-xs mb-3 pb-3 border-b",e(a).packagerTextMuted,e(a).packagerCardBorder])},"Use these placeholders in your Docker Compose file. They will be automatically replaced when installing the package.",2),t("div",At,[(i(),u(Z,null,V(z,s=>t("div",{key:s.placeholder,class:l(["p-3 rounded-lg border",O.value.includes(s.placeholder)?"border-green-600/50":e(a).packagerCardBorder,e(a).packagerHookItemBg])},[t("div",$t,[t("div",It,[t("div",Lt,[t("code",{class:l(["text-xs font-mono px-2 py-0.5 rounded-xl",e(a).packagerCodeBg,e(a).packagerCodeText])},p(s.placeholder),3),O.value.includes(s.placeholder)?(i(),u("span",{key:0,class:l(["text-xs",e(a).packagerSuccessText])},"✓ Used",2)):w("",!0)]),t("p",{class:l(["text-xs",e(a).packagerTextMuted])},p(s.description),3),t("div",{class:l(["text-xs font-mono p-2 rounded border",e(a).packagerExampleBg,e(a).packagerExampleBorder])},[t("p",{class:l(["leading-relaxed",e(a).packagerExampleText]),style:{"white-space":"pre-line"}},p(s.example),3)],2)]),t("button",{onClick:m=>xe(s.placeholder),class:l(["p-1.5 rounded transition-colors flex-shrink-0",e(a).packagerCopyHover]),title:"Copy to clipboard"},[r(e(d),{icon:e(Be),class:l(["w-4 h-4",e(a).packagerCopyIcon])},null,8,["icon","class"])],10,Pt)])],2)),64))])],2)):w("",!0)],2)])]),_:1},8,["visible"]),r(De,{visible:ee.value,"onUpdate:visible":o[18]||(o[18]=s=>ee.value=s),type:"error",title:"Package Already Exists","ok-text":"Close","ok-cancel":!1,onOk:We},{default:k(()=>[t("div",Ht,[t("div",Ut,[r(e(d),{icon:e(de),class:l(["w-6 h-6",e(a).packagerErrorText])},null,8,["icon","class"]),t("div",Mt,[t("p",{class:l(["font-semibold mb-2",e(a).packagerText])},"Cannot import package",2),t("p",{class:l(["text-sm mb-2",e(a).packagerTextMuted])},[o[31]||(o[31]=x(" The package ",-1)),t("strong",null,p(G.value?.displayName),1),x(" ("+p(G.value?.appSlug)+") is already installed and has the following files: ",1)],2),t("ul",{class:l(["text-sm -space-y-1 mb-2",e(a).packageConflictFileList])},[(i(!0),u(Z,null,V(G.value?.existingFiles,s=>(i(),u("li",{key:s,class:"flex items-start gap-1"},[o[32]||(o[32]=t("span",null,"•",-1)),t("code",Ft,p(s),1)]))),128))],2),t("div",{class:l([e(a).packageConflictInstructionBorder])},[t("p",{class:l(["text-sm font-semibold mb-1",e(a).packageConflictInstructionTitle])},"To upload a new version:",2),t("p",{class:l(["text-xs",e(a).packageConflictInstructionText])},[...o[33]||(o[33]=[x(" 1. Go to the ",-1),t("strong",null,'"Imported Packages"',-1),x(" section below",-1),t("br",null,null,-1),x(" 2. Delete the existing package completely",-1),t("br",null,null,-1),x(" 3. Then upload the new version ",-1)])],2)],2)])])])]),_:1},8,["visible"]),r(da,{icon:e(ie),message:R.value==="generator"?"Packager":`${I.value.length} external ${I.value.length===1?"package":"packages"}`,info:R.value==="generator"?O.value.length?`${O.value.length} DevHooks detected`:"Ready to create":`${N.value.length} imported apps`,showHelp:!0},{help:k(()=>[t("div",Et,[t("div",Rt,[r(e(d),{icon:e(ie),class:l(["w-5 h-5",e(a).statusBarIcon])},null,8,["icon","class"]),t("h4",{class:l(["text-base font-semibold",e(a).statusBarText])},"Packager",2)]),t("div",{class:l(["text-[10px] md:text-xs space-y-2 leading-relaxed",e(a).statusBarInfo])},[R.value==="generator"?(i(),u("p",jt,"Create custom .hds packages with your docker-compose files to be able to import any application into the HomeDock OS App Store. Use DevHooks to make your packages dynamic and compatible with different environments such as Windows, macOS and Linux.")):(i(),u("p",Ot,"Import packages from others or export your already imported apps, share them, keep them private or publish your own .hds files on GitHub. Once exported, all packages are verified with SHA256 hashes to ensure integrity and avoid third party modifications."))],2)])]),_:1},8,["icon","message","info"])]))}}),_s=ta(Nt,[["__scopeId","data-v-2b0e8a75"]]);export{_s as default};
