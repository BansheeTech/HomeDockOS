const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["hdos_5TafB15m9ON5X0BTI9c_V.js","hdos_CE1G-McAXm7G2-tH-xmrF.js"])))=>i.map(i=>d[i]);
import{j as E,r as m,B as R,v as Q,y as I,A as b,z as t,F as s,K as Y,u as e,H as a,X as j,_ as B,w as M,C as F,D as _,I as ee,M as v,J as te,T as N,a3 as se,a4 as ae,a5 as oe,a6 as ne,E as le,G as re,R as ie,a8 as ce,a9 as de}from"./hdos_BcxwjlzXf6g6-h4_1FWrZ.js";import{d as ue,h as me,e as pe,f as he,j as k,_ as fe}from"./hdos_C6pDJGZJXz5nQihFgwgfK.js";import{d as ge,a as D,A as ve}from"./hdos_DaRSEFpqf81ZuDgc4Rzsj.js";import{d as we}from"./hdos_BnHh7eiIC22BYAb-ukhLa.js";import{d as V}from"./hdos_DPhlMBAcwmj4N6C-RIU0v.js";import{d as _e}from"./hdos_R8ecdjzHoP22_qvuHhYVs.js";import{S as ye}from"./hdos_B-pNh87yLxB15tL9qZ3n_.js";import{e as be}from"./hdos_BHcEyB3ojTLWV5gKTBfxt.js";import{F as $}from"./hdos_Dbd2mxyH-R2y9xaggFO1w.js";import"./hdos_CsScR_pRDu1-9gAh8nom2.js";import{I as P}from"./hdos_DsV6MtHVm0uyt2epk-bwp.js";import{B as H}from"./hdos_Dl_8y7XL2p14O2wBj5-oC.js";import"./hdos_CVzzgcPhkaG_5l_73yb41.js";import"./hdos_DObXWkno6quyALmbQVYqi.js";import"./hdos_mEBj4ZJpX_askY5fpJbtX.js";import"./hdos_DkNwpkYCCMgzkRrLBjv_5.js";import"./hdos_DTM5j6AomKVq9UMQGxoAD.js";import"./hdos_BaUrF9Cr2fXFo4DuK-sZ2.js";import"./hdos_DpDVKxrEixovpf2ajDl0e.js";const xe={width:24,height:24,body:'<path fill="currentColor" d="M12 9a3 3 0 0 1 3 3a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5c-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0a9.821 9.821 0 0 0-17.64 0Z"/>'},Se={width:24,height:24,body:'<path fill="currentColor" d="M12 17.5c-3.8 0-7.2-2.1-8.8-5.5H1c1.7 4.4 6 7.5 11 7.5s9.3-3.1 11-7.5h-2.2c-1.6 3.4-5 5.5-8.8 5.5Z"/>'},ke={width:24,height:24,body:'<path fill="currentColor" d="M11 20H6.5q-2.28 0-3.89-1.57Q1 16.85 1 14.58q0-1.95 1.17-3.48q1.18-1.53 3.08-1.95q.63-2.3 2.5-3.72Q9.63 4 12 4q2.93 0 4.96 2.04Q19 8.07 19 11q1.73.2 2.86 1.5q1.14 1.28 1.14 3q0 1.88-1.31 3.19T18.5 20H13v-7.15l1.6 1.55L16 13l-4-4l-4 4l1.4 1.4l1.6-1.55Z"/>'},Ie={id:"cloudScreen",class:"cloud-screen"},Ce={class:"banshee-cloud"},Te={target:"_blank",href:"https://banshee.pro"},Ae={class:"objectHead"},De={class:"object"},$e=300,je=750,Fe=2500,Ee=E({__name:"SplashScreen",setup(C){const o=m(null),i=m(null),w=m(null),{themeClasses:u}=R(),x=new Audio("/audio/splash.mp3"),S=(l,g,h)=>{setTimeout(()=>{l.classList.add(g)},h)},c=()=>{x.play().catch(()=>{});let l=$e;o.value.querySelectorAll(".object").forEach(h=>{S(h,"filling",l),l+=je}),setTimeout(()=>{o.value.classList.add("splashFadeOut"),o.value.addEventListener("transitionend",function h(r){r.propertyName==="opacity"&&(o.value.remove(),o.value.removeEventListener("transitionend",h))})},l+Fe)},p=()=>{w.value.classList.add("shootUp"),i.value.style.opacity="0",c(),i.value.addEventListener("transitionend",()=>{i.value.style.display="none"},{once:!0}),localStorage.setItem("splashShown","true")};return Q(()=>{i.value=document.getElementById("cloudScreen"),w.value=document.getElementById("cloudImage"),localStorage.getItem("splashShown")?(o.value.style.display="none",i.value.style.display="none"):(o.value.style.display="block",i.value.style.display="flex")}),(l,g)=>(b(),I("div",null,[t("div",Ie,[t("div",{id:"cloudImage",class:"flex flex-col items-center justify-center",onClick:p},[s(Y,{class:a([e(u).splashColor]),icons:[e(ue),e(ke)],interval:1e3,iconSize:96},null,8,["class","icons"]),t("div",{class:a([[e(u).splashColor],"cloudtext text-center"])},"Click to Start",2)]),t("span",Ce,[t("a",Te,[t("span",null,[s(j,{class:a([[e(u).compLogo],"optin-banshee will-change-transform"]),src:"/images/optin_banshee.png"},null,8,["class"])])])])]),t("div",{class:a([[e(u).cloudBack],"splash"]),ref_key:"splashElement",ref:o},[t("h1",Ae,[t("div",De,[s(j,{class:a([[e(u).compLogo],"object-logo mr-1"]),src:"/images/logo_trans.svg"},null,8,["class"])]),t("div",{class:a([[e(u).afterSplash],"object object-text ml-1 h-8"])},"HomeDock OS",2)])],2)]))}}),Be=B(Ee,[["__scopeId","data-v-bf037147"]]),Le={class:"relative text-xs w-full h-8 z-30 text-white text-center flex items-center justify-center rounded-2xl bg-gradient-to-r from-[#6e0000] via-[#4b0092] to-[#1575bf] animate-rainbow py-2.5"},qe={target:"_blank",href:"https://www.homedock.cloud",class:"flex items-center justify-center"},Ve=E({__name:"CloudInstances",props:{isVisible:{type:Boolean}},emits:["update:isVisible"],setup(C,{emit:o}){const i=C,w=o,u=m(!1),x=()=>{const c=new Date().toISOString().split("T")[0];localStorage.setItem("cloudInstancePopShown",c),u.value=!1,w("update:isVisible",!1)},S=()=>{const c=localStorage.getItem("cloudInstancePopShown"),p=new Date;let l=!1;if(!c)l=!0;else{const g=new Date(c);(p.getTime()-g.getTime())/(1e3*3600*24)>7&&(l=!0)}l?(u.value=!0,w("update:isVisible",!0)):(u.value=!1,w("update:isVisible",!1))};return M(()=>i.isVisible,c=>{c&&S()}),(c,p)=>(b(),F(N,{name:"slide-down-fade"},{default:_(()=>[ee(t("div",Le,[t("span",{id:"CloudInstancesClose",class:"absolute right-4 text-white cursor-pointer",onClick:x},[s(e(v),{icon:e(me),class:"mr-1 text-current",width:"14",height:"14"},null,8,["icon"])]),t("a",qe,[s(e(v),{icon:e(be),class:"mr-1 text-current",width:"14",height:"14"},null,8,["icon"]),p[0]||(p[0]=t("span",null,"Check out our HomeDock OS Cloud Instances!",-1))])],512),[[te,u.value]])]),_:1}))}}),Pe=B(Ve,[["__scopeId","data-v-cced2b28"]]),He={class:"flex justify-between items-start mb-6"},Oe={key:0,class:"flex items-center justify-center"},Re={key:1},Me={href:"https://github.com/BansheeTech/HomeDockOS",target:"_blank",class:"flex items-center"},Ne={href:"https://www.homedock.cloud",target:"_blank",class:"flex items-center"},Ue={href:"https://docs.homedock.cloud",target:"_blank",class:"flex items-center"},Ke={href:"https://discord.gg/Zj3JCYsRWw",target:"_blank",class:"flex items-center"},ze=E({__name:"Login",setup(C){const o=m({username:"",password:""}),i=m(!1),w=()=>{i.value||(i.value=!0,setTimeout(()=>{i.value=!1},1e3))},u={username:[{required:!0,message:"Username is required",trigger:"blur"}],password:[{required:!0,message:"Password is required",trigger:"blur"}]},x=m(!1),S=m(!1),c=m(!1),p=m(document.querySelector('meta[name="homedock_csrf_token"]')?.getAttribute("content")||null),l=m(void 0),g=m(null),h=m(!1),{themeClasses:r}=R(),U=()=>{x.value=!x.value},L=()=>{S.value=!0},K=async()=>{if(!p.value){k.error("CSRF token missing.");return}if(!(c.value||h.value)){c.value=!0;try{const d=await D.get("/api/pksend",{headers:{"Content-Type":"application/json","X-HomeDock-CSRF-Token":p.value}}),n=d.data.public_key,f=d.data.token;if(!n||!f)throw new Error("Public Key or token not found in response.");const T=(await fe(async()=>{const{default:A}=await import("./hdos_5TafB15m9ON5X0BTI9c_V.js").then(J=>J.i);return{default:A}},__vite__mapDeps([0,1]))).default,W=new TextEncoder().encode(o.value.password),X=Array.from(W).map(A=>String.fromCharCode(A)).join(""),Z=T.pki.publicKeyFromPem(n).encrypt(X,"RSA-OAEP",{md:T.md.sha256.create(),mgf1:{md:T.md.sha256.create()}}),G=T.util.encode64(Z),q=await D.post("/api/pcrypt",{token:f,password:G},{headers:{"Content-Type":"application/json","X-HomeDock-CSRF-Token":p.value}});if(q.data.status!=="success"){k.error(q.data.message||"Error encrypting password.");return}const y=await D.post("/login",{token:f,username:o.value.username,homedock_csrf_token:p.value},{headers:{"Content-Type":"application/json","X-HomeDock-CSRF-Token":p.value}});if(y.data.message?y.data.status==="success"?(k.success(y.data.message),h.value=!0,setTimeout(()=>{window.location.href=y.data.redirect_url},2500)):(y.data.remaining_attempts!==void 0&&(g.value=y.data.remaining_attempts),k.error(y.data.message),l.value="error"):k.error("Unexpected error, please contact support."),y.data.redirect_url){setTimeout(()=>{window.location.href=y.data.redirect_url},2500);return}}catch(d){if(d instanceof ve)if(d.response&&d.response.data){const{message:n,redirect_url:f}=d.response.data;if(n&&(k.error(n),l.value="error"),d.response.data.remaining_attempts!==void 0&&(g.value=d.response.data.remaining_attempts),f){setTimeout(()=>{window.location.href=f},2500);return}}else k.error("There was an error while signing in.")}finally{c.value=!1}}};M(g,()=>{const d=document.querySelector(".animated-attempts");d&&(d.classList.add("updated"),setTimeout(()=>d.classList.remove("updated"),300))});const z=d=>{};return(d,n)=>(b(),I(ie,null,[s(se),s(ae),s(oe),s(ne),s(Be),s(ye),t("div",{class:a([[e(r).back],"flex items-center justify-center min-h-screen login-wrapper relative p-3 overflow-hidden"])},[t("div",{class:a([{bounce:i.value},"w-full max-w-xl"])},[t("div",{class:a([[e(r).form],"group px-6 py-12 lg:px-12 rounded-3xl shadow-lg w-full relative z-10 anim-pusher mb-2"])},[t("div",He,[s(j,{src:"/images/logo_trans.svg",alt:"Logo",class:a([[e(r).logo],"h-20 hd-top-form-logo animate-pulse"])},null,8,["class"])]),t("h2",{class:a([[e(r).mainText],"text-xl font-normal mb-2"])},"Welcome to HomeDock OS",2),t("p",{class:a([[e(r).subText],"font-light mb-6 leading-3"])},"Sign in to continue",2),s(e($),{layout:"vertical",model:o.value,rules:u,onFinish:K,onFinishFailed:z},{default:_(()=>[s(e($).Item,{name:"username"},{default:_(()=>[n[3]||(n[3]=t("label",{class:"text-gray-300",for:"username"},"Username",-1)),s(e(P),{class:a([[e(r).scopeSelector,e(r).loginFormInput],"h-10 group inputUser"]),autocomplete:"username",value:o.value.username,"onUpdate:value":n[0]||(n[0]=f=>o.value.username=f),placeholder:"Username...",maxlength:30,status:l.value,required:"",onFocus:L},{prefix:_(()=>[s(e(v),{icon:e(we),class:a(["mr-0.5 transition duration-300",[e(r).formIcon,{"text-gray-300 group-hover:text-blue-500":l.value!=="error","text-red-500":l.value==="error"}]]),width:"16",height:"16"},null,8,["icon","class"])]),_:1},8,["class","value","status"])]),_:1}),n[6]||(n[6]=t("div",{class:"mt-2"},null,-1)),s(e($).Item,{name:""},{default:_(()=>[n[4]||(n[4]=t("label",{class:"text-gray-300",for:"password"},"Password",-1)),s(e(P),{class:a([[e(r).scopeSelector,e(r).loginFormInput],"h-10 group"]),autocomplete:"current-password",value:o.value.password,"onUpdate:value":n[1]||(n[1]=f=>o.value.password=f),type:x.value?"text":"password",placeholder:"••••••••",status:l.value,maxlength:30,required:"",onFocus:L},{prefix:_(()=>[s(e(v),{icon:e(V),class:a(["mr-0.5 transition duration-300",[e(r).formIcon,{"text-gray-300 group-hover:text-blue-500":l.value!=="error","text-red-500":l.value==="error"}]]),width:"16",height:"16"},null,8,["icon","class"])]),suffix:_(()=>[s(e(H),{class:a(["mb-1 transition duration-300",{"text-gray-300 group-hover:text-blue-500":l.value!=="error","text-red-500":l.value==="error"}]),type:"link",onClick:U,icon:""},{default:_(()=>[x.value?(b(),F(e(v),{key:0,icon:e(xe),class:"mt-1"},null,8,["icon"])):(b(),F(e(v),{key:1,icon:e(Se),class:"mt-1"},null,8,["icon"]))]),_:1},8,["class"])]),_:1},8,["class","value","type","status"])]),_:1}),s(e(H),{id:"main_button_login",onClick:w,class:a([{clicked:h.value},"w-full flex items-center justify-center h-14 mt-8 relative overflow-hidden border-0 disabled:bg-blue-400 disabled:cursor-pointer disabled:text-white"]),loading:c.value,type:"primary",htmlType:"submit",disabled:c.value||h.value},{default:_(()=>[h.value?(b(),I("span",Re,[s(e(v),{icon:e(ge),class:"text-white animate-spin",width:"26",height:"26"},null,8,["icon"])])):(b(),I("div",Oe,[s(e(v),{icon:e(V),class:"text-white",width:"16",height:"16"},null,8,["icon"]),n[5]||(n[5]=t("span",{class:"ml-1"},"Sign In",-1))]))]),_:1},8,["class","loading","disabled"]),s(N,{name:"slide-down-error"},{default:_(()=>[g.value!==null?(b(),I("p",{key:0,class:a([[e(r).subText,"animated-attempts"],"text-xs mt-2"])},"Remaining attempts: "+re(g.value),3)):le("",!0)]),_:1})]),_:1},8,["model"]),t("div",{class:a([[e(r).loginSocialsCont],"flex items-center space-x-2 transition-all duration-300 ease-in-out transform translate-y-5 w-fit px-1.5 group-hover:px-10 py-1 rounded-full mx-auto"])},[t("a",Me,[s(e(v),{class:a([[e(r).loginSocials],"w-5 h-5 transition duration-300 hover:scale-125 hover:-translate-y-1"]),icon:e(pe)},null,8,["class","icon"])]),t("a",Ne,[s(e(v),{class:a([[e(r).loginSocials],"w-5 h-5 transition duration-300 hover:scale-125 hover:-translate-y-1"]),icon:e(_e)},null,8,["class","icon"])]),t("a",Ue,[s(e(v),{class:a([[e(r).loginSocials],"w-5 h-5 transition duration-300 hover:scale-125 hover:-translate-y-1"]),icon:e(he)},null,8,["class","icon"])]),t("a",Ke,[(b(),I("svg",{xmlns:"http://www.w3.org/2000/svg",class:a([[e(r).loginSocials],"w-5 h-5 transition duration-300 hover:scale-125 hover:-translate-y-1"]),viewBox:"0 0 24 24"},[...n[7]||(n[7]=[t("rect",{width:"24",height:"24",fill:"none"},null,-1),t("path",{fill:"currentColor",d:"M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.1.1 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.1 16.1 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02M8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12m6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12"},null,-1)])],2))])],2)],2),s(Pe,{isVisible:S.value,"onUpdate:isVisible":n[2]||(n[2]=f=>S.value=f)},null,8,["isVisible"])],2)],2)],64))}}),We=B(ze,[["__scopeId","data-v-246a4220"]]),O=document.getElementById("data-theme")?.textContent;if(O){const C=atob(O);let o;try{o=JSON.parse(C);const i=ce(We);i.provide("data-theme",{selectedTheme:o.selected_theme,selectedBack:o.selected_back});const w=de();i.use(w),i.mount("#app-login-root")}catch(i){console.error("Error parsing data-theme objects:",i)}}else console.error("The element 'data-theme' wasn't found or it's empty.");
