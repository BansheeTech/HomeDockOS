import{d as Re,r as v,u as Oe,w as qe,z as U,o as Ge,c as m,a as u,e as r,b as s,F as We,A as Xe,k as Je,l as Qe,N as Ke,n,f as o,i as p,m as _,t as x,I as h,x as E,T as Ye,M as he,p as X,O as ve,h as J,j as fe,v as we,g as Ne,q as et,s as tt}from"./hdos_CSz97728WTgNRGvRe3fzi.js";import{N as ot,_ as at,f as Q,C as st,g as nt,h as lt}from"./hdos_DNBtSPat4h-vuKc3QGtcM.js";import{d as ge,a as I}from"./hdos_DZUKIvxDT3Fqh7rzmD7rn.js";import{d as xe}from"./hdos_DPhlMBAcwmj4N6C-RIU0v.js";import{A as rt}from"./hdos_Cm_P0pFN-DrzSmCdYrTb4.js";import{a as it}from"./hdos_BDat9bzFORVXIMSZ3R_vF.js";import{S as ct,a as K}from"./hdos_LQY_-BKs6amnnHC95oG9a.js";import{E as dt,B as P}from"./hdos_CiX0oCQDaPnSV96bTDta7.js";import{a as w}from"./hdos_Xt0hucB7cVaJYWNKighET.js";import{A as ut}from"./hdos_B5PEoEwMHJthhsA09BOCE.js";import{a as pt}from"./hdos_DC_Oaq2hIYE-wDqqjnppb.js";import{P as ye}from"./hdos_hpt7RrN7Ocjbl8DikVqeO.js";import"./hdos_DQY3_GvtdLEHdJmsF3xd-.js";import"./hdos_D6-XlEtGdUWrcdOe4mzvB.js";import"./hdos_BHAayuVilsmKMfDsDzn05.js";import"./hdos_C0EZy1AflgQuFodp3od6f.js";import"./hdos_CTszsRaORe5qUi4PDYV8d.js";import"./hdos_C50MGhEI5FYi3sKavXxWt.js";import"./hdos_BvClwQ-gj9YU4XIYLJy-U.js";const _e={width:24,height:24,body:'<path fill="currentColor" d="M10 4H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-8l-2-2Z"/>'},Y={width:24,height:24,body:'<path fill="currentColor" d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m9 16v-2H6v2h9m3-4v-2H6v2h12Z"/>'},z={width:24,height:24,body:'<path fill="currentColor" d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m0 18h12v-8l-4 4l-2-2l-6 6M8 9a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2Z"/>'},be={width:24,height:24,body:'<path fill="currentColor" d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m11 17v-6l-3 2.2V13H7v6h7v-2.2l3 2.2Z"/>'},N={width:24,height:24,body:'<path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m-1 11h-2v5a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2c.4 0 .7.1 1 .3V11h3v2m0-4V3.5L18.5 9H13Z"/>'},ke={width:24,height:24,body:'<path fill="currentColor" d="M14 17h-2v-2h-2v-2h2v2h2m0-6h-2v2h2v2h-2v-2h-2V9h2V7h-2V5h2v2h2m5-4H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/>'},ee={width:24,height:24,body:'<path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m1.8 18H14l-2-3.4l-2 3.4H8.2l2.9-4.5L8.2 11H10l2 3.4l2-3.4h1.8l-2.9 4.5l2.9 4.5M13 9V3.5L18.5 9H13Z"/>'},A={width:24,height:24,body:'<path fill="currentColor" d="M12.6 12.3h-2v3.2h2.1c.6 0 .9-.2 1.2-.5c.3-.3.4-.6.4-1.1c0-.5-.1-.8-.4-1.1c-.3-.3-.7-.5-1.3-.5M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m1.2 14c-.6.5-1.1.7-2.4.7h-2.2V20H9v-9h3.8c1.3 0 1.9.3 2.4.8c.6.6.8 1.2.8 2.1c0 .9-.2 1.6-.8 2.1M13 9V3.5L18.5 9H13Z"/>'},Ce={width:24,height:24,body:'<path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m1.2 18h-1.4L12 13.2L10.2 20H8.8l-2.2-9h1.5l1.4 6.8l1.8-6.8h1.3l1.8 6.8l1.4-6.8h1.5l-2.1 9M13 9V3.5L18.5 9H13Z"/>'},d={width:24,height:24,body:'<path fill="currentColor" d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m.12 13.5l3.74 3.74l1.42-1.41l-2.33-2.33l2.33-2.33l-1.42-1.41l-3.74 3.74m11.16 0l-3.74-3.74l-1.42 1.41l2.33 2.33l-2.33 2.33l1.42 1.41l3.74-3.74Z"/>'},mt={width:24,height:24,body:'<path fill="currentColor" d="M13 9V3.5L18.5 9M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6Z"/>'},Se={width:24,height:24,body:'<path fill="currentColor" d="M10 4h4v9l3.5-3.5l2.42 2.42L12 19.84l-7.92-7.92L6.5 9.5L10 13V4Z"/>'},Ve={width:24,height:24,body:'<path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"/>'},ht={width:24,height:24,body:'<path fill="currentColor" d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12c5.16-1.26 9-6.45 9-12V5l-9-4m0 6c1.4 0 2.8 1.1 2.8 2.5V11c.6 0 1.2.6 1.2 1.3v3.5c0 .6-.6 1.2-1.3 1.2H9.2c-.6 0-1.2-.6-1.2-1.3v-3.5c0-.6.6-1.2 1.2-1.2V9.5C9.2 8.1 10.6 7 12 7m0 1.2c-.8 0-1.5.5-1.5 1.3V11h3V9.5c0-.8-.7-1.3-1.5-1.3Z"/>'},Le={width:24,height:24,body:'<path fill="currentColor" d="M16 8c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V10c0-1.1.9-2 2-2h9V6c0-1.7-1.3-3-3-3S7 4.3 7 6H5c0-2.8 2.2-5 5-5s5 2.2 5 5v2h1m-6 9c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2m12-4h-2V7h2v6m0 4h-2v-2h2v2Z"/>'},vt={width:24,height:24,body:'<path fill="currentColor" d="M3 11h8V3H3m0 18h8v-8H3m10 8h8v-8h-8m0-10v8h8V3"/>'},ft={width:24,height:24,body:'<path fill="currentColor" d="M9 5v4h12V5M9 19h12v-4H9m0-1h12v-4H9M4 9h4V5H4m0 14h4v-4H4m0-1h4v-4H4v4Z"/>'},wt={width:24,height:24,body:'<path fill="currentColor" d="M19 17h3l-4 4l-4-4h3V3h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"/>'},gt={width:24,height:24,body:'<path fill="currentColor" d="M19 7h3l-4-4l-4 4h3v14h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"/>'},xt={width:24,height:24,body:'<path fill="currentColor" d="m12 2l4 4h-3v7.85l6.53 3.76L21 15.03l1.5 5.47l-5.5 1.46l1.53-2.61L12 15.58l-6.53 3.77L7 21.96L1.5 20.5L3 15.03l1.47 2.58L11 13.85V6H8l4-4Z"/>'},yt={class:"flex flex-col min-h-screen"},_t={class:"top-0 left-0 z-10"},bt={class:"flex flex-1 overflow-hidden"},kt={class:"hidden lg:block relative"},Ct={class:"flex-1 overflow-auto max-w-full holder"},St={class:"flex items-center align-center justify-center flex-col"},Vt={class:"ant-upload-drag-icon"},Lt={key:0,class:"text-xs mt-2"},Dt={class:"mt-2 space-y-2"},Zt={class:"flex flex-col lg:flex-row gap-2 items-start lg:items-center justify-between"},$t={class:"flex-1 min-w-0 w-full lg:w-auto"},Mt={class:"flex items-center gap-2 mt-0.5 w-full lg:w-auto lg:flex-shrink-0"},Ht=["title"],zt={class:"flex items-center justify-start text-[10px]"},Ft={key:0,class:"ml-0.5"},Tt={key:0,class:"flex justify-center items-center py-8"},It={key:"grid-view",class:"grid grid-cols-[repeat(auto-fill,minmax(140px,1fr))] lg:grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-4"},Bt={class:"absolute right-2 top-2 flex items-center gap-1"},jt={class:"mt-2 w-full"},Ut=["title"],Et={class:"flex items-center justify-center gap-1 mt-1"},Pt=["title"],At={class:"absolute -bottom-1 left-0 right-0 px-1"},Rt={class:"mt-3 flex justify-center"},Ot={class:"flex items-center justify-center whitespace-nowrap"},qt={key:"list-view",class:"space-y-2"},Gt={class:"flex-1 min-w-0"},Wt={class:"flex items-center gap-2"},Xt=["title"],Jt={class:"flex items-center gap-1"},Qt={class:"flex items-center gap-2 mt-1 text-xs"},Kt=["title"],Yt={key:0,class:"absolute -bottom-1 left-0 right-0 px-1"},Nt={class:"flex items-center gap-2 flex-shrink-0"},eo={class:"flex items-center justify-center gap-1 whitespace-nowrap"},to=3,oo=Re({__name:"Dropzone",setup(f){var me;const D=e=>{var t;if(e.endsWith("/"))return _e;const a=(t=e.split(".").pop())==null?void 0:t.toLowerCase();return $[a||"unknown"]||mt},$={folder:_e,txt:Y,md:Y,pdf:Y,png:z,jpg:z,jpeg:z,gif:z,psd:z,webp:z,mp4:be,mkv:be,mp3:N,wav:N,flac:N,zip:ke,rar:ke,doc:Ce,docx:Ce,pptx:A,ppt:A,ppsx:A,pps:A,xlsx:ee,xls:ee,csv:ee,exe:d,app:d,sh:d,js:d,ts:d,py:d,c:d,cpp:d,h:d,hpp:d,cs:d,java:d,php:d,html:d,css:d,json:d,xml:d,sql:d,rs:d},S=v(((me=document.querySelector('meta[name="homedock_csrf_token"]'))==null?void 0:me.getAttribute("content"))||""),{themeClasses:l}=Oe(),$e=v("/drop-zone"),b=v([]),y=v(""),B=v([]),F=v({}),T=v({}),g=v({}),c=v({});let k={};const R=v([]),O=v(0),Z=v("grid"),M=v("name"),V=v("asc"),Me=()=>{try{const e=localStorage.getItem("dropzoneStatus");if(e){const a=JSON.parse(e);Z.value=a.viewMode||"grid",M.value=a.sortBy||"name",V.value=a.sortDirection||"asc"}}catch(e){console.warn("Failed to load dropzone preferences:",e)}},He=()=>{try{const e={viewMode:Z.value,sortBy:M.value,sortDirection:V.value};localStorage.setItem("dropzoneStatus",JSON.stringify(e))}catch(e){console.warn("Failed to save dropzone preferences:",e)}};qe([Z,M,V],()=>{He()});const ae=e=>{Z.value=e},ze=()=>{V.value=V.value==="asc"?"desc":"asc"},se=e=>{if(!e)return"";const a=new Date,t=typeof e=="number"?new Date(e*1e3):new Date(e),i=Math.floor((a.getTime()-t.getTime())/1e3);return i<30?"Now":i<60?`${i}s ago`:i<3600?`${Math.floor(i/60)}m ago`:i<86400?`${Math.floor(i/3600)}h ago`:i<2592e3?`${Math.floor(i/86400)}d ago`:i<31536e3?`${Math.floor(i/2592e3)}mo ago`:`${Math.floor(i/31536e3)}y ago`},ne=e=>e?(typeof e=="number"?new Date(e*1e3):new Date(e)).toLocaleString():"",le=async()=>{if(O.value>=to||R.value.length===0)return;const e=R.value.shift();if(e){O.value++;try{await Te(e.file,e.onProgress),B.value=B.value.filter(a=>a.uid!==e.file.uid),e.onSuccess&&e.onSuccess(null,e.file)}catch(a){e.onError&&e.onError(a)}finally{O.value--,le()}}},Fe=async({file:e,onSuccess:a,onError:t,onProgress:i})=>{R.value.push({file:e,onProgress:i,onSuccess:a,onError:t}),le()},re=e=>{if(!e.modified)return!1;const a=new Date,t=typeof e.modified=="number"?new Date(e.modified*1e3):new Date(e.modified);return(a.getTime()-t.getTime())/(1e3*60*60)<1},Te=async(e,a)=>{var i,L,H;const t=new FormData;t.append("file",e);try{const C=await I.post("/api/upload_file",t,{headers:{"X-HomeDock-CSRF-Token":S.value},onUploadProgress:W=>{if(a&&W.total){const Ae=Math.round(W.loaded/W.total*100);a({percent:Ae})}}});C.data.success||(w.error(C.data.error.value||"Upload failed"),console.error("Error during file upload:",C.data.error))}catch(C){I.isAxiosError(C)?((i=C.response)==null?void 0:i.status)===413?w.error("The selected file is larger than 1GB."):w.error(((H=(L=C.response)==null?void 0:L.data)==null?void 0:H.error_message)||`Unexpected error occurred: ${C.message}`):w.error("An unknown error occurred. Please try again."),console.error("Upload error:",C)}},ie=async e=>{if(g.value[e]!==void 0&&g.value[e]<100&&g.value[e]>0){w.info(`Download for ${e} is already in progress.`);return}try{F.value[e]=!0,T.value[e]=!0,g.value[e]=0;const a=await I.get(`/api/download_file?file=${encodeURIComponent(e)}`,{headers:{"X-HomeDock-CSRF-Token":S.value},responseType:"blob",onDownloadProgress:L=>{if(L.total){const H=Math.round(L.loaded*100/L.total);g.value[e]=H}}}),t=window.URL.createObjectURL(new Blob([a.data])),i=document.createElement("a");i.href=t,i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(t),setTimeout(()=>{F.value[e]=!1,T.value[e]=!1},1e3)}catch(a){console.error("Error downloading file:",a),w.error("Failed to download file. Please try again."),delete g.value[e],T.value[e]=!1,F.value[e]=!1}},ce=e=>{k[e]&&clearTimeout(k[e]),c.value[e]=!0,k[e]=setTimeout(()=>{Ie(e)},3e3)},Ie=e=>{c.value[e]=!1,k[e]&&(clearTimeout(k[e]),delete k[e])},de=async e=>{k[e]&&(clearTimeout(k[e]),delete k[e]),c.value[e]=!1,await Be(e)},Be=async e=>{try{const a=await I.post("/api/delete_file",{file:e},{headers:{"X-HomeDock-CSRF-Token":S.value}});a.data.success?(w.success(a.data.message),q()):w.error(a.data.error||"Failed to delete file")}catch(a){console.error("Error deleting file:",a),w.error("Failed to delete file. Please try again.")}},q=async()=>{try{const e=await I.get("/api/get_files",{headers:{"X-HomeDock-CSRF-Token":S.value}});b.value=e.data.files||[]}catch(e){console.error("Error fetching files:",e),w.error("Failed to fetch files. Please try again.")}},je=U(()=>y.value?b.value.filter(e=>e.name.toLowerCase().includes(y.value.toLowerCase())).map(e=>({value:e.name,label:e.name})):b.value.map(e=>({value:e.name,label:e.name}))),j=U(()=>y.value?b.value.filter(e=>e.name.toLowerCase().includes(y.value.toLowerCase())):b.value),ue=U(()=>[...j.value].sort((a,t)=>{let i=0;switch(M.value){case"name":i=a.name.localeCompare(t.name);break;case"size":i=a.size-t.size;break;case"date":if(!a.modified&&!t.modified)i=0;else if(!a.modified)i=1;else if(!t.modified)i=-1;else{const L=typeof a.modified=="number"?a.modified:new Date(a.modified).getTime()/1e3,H=typeof t.modified=="number"?t.modified:new Date(t.modified).getTime()/1e3;i=L-H}break}return V.value==="asc"?i:-i})),pe=U(()=>G(b.value.reduce((e,a)=>e+a.size,0))),Ue=e=>{const a=typeof e=="object"?e.value:e;y.value=a.toString(),w.info(`Selected: ${a}`)},Ee=e=>{e.file.status==="done"?w.success(`${e.file.name} uploaded successfully`):e.file.status==="error"&&w.error(`${e.file.name} upload failed.`)};function G(e){const a=typeof e=="number"?e:parseFloat(e);return a>=1e9?(a/1e9).toFixed(2)+" GBs":a>=1e6?(a/1e6).toFixed(2)+" MBs":a>=1e3?(a/1e3).toFixed(2)+" KBs":a+" B"}const Pe=()=>{q()};return Ge(()=>{Me(),q()}),(e,a)=>(u(),m(X,null,[r(We),r(Xe),r(Je),r(Qe),r(Ke),s("div",yt,[s("header",_t,[r(ot)]),a[9]||(a[9]=s("div",{class:"h-24"},null,-1)),s("div",bt,[s("aside",kt,[r(at,{activePath:$e.value},null,8,["activePath"])]),s("div",{class:n([[o(l).back],"flex flex-col flex-1 pl-4 pt-3 pr-4 max-w-full overflow-x-hidden"])},[s("main",Ct,[r(st,{title:"Drop Zone",body:"Locally encrypted file vault",mdi_icon:o(Q),id:"dropZoneUp",collapsible:!1},{default:p(()=>[r(o(it),{class:n([o(l).dropZoneDragHolder,o(l).scopeSelector]),fileList:B.value,"onUpdate:fileList":a[0]||(a[0]=t=>B.value=t),name:"file",multiple:!0,customRequest:Fe,onChange:Ee,onSuccess:Pe,showUploadList:!0},{default:p(()=>[s("div",St,[s("p",Vt,[r(rt,{icons:[o(Q),o(ht)],iconSize:64,interval:2e3,class:n([[o(l).dropZoneDragIcon],"text-4xl"])},null,8,["icons","class"])]),s("p",{class:n([[o(l).dropZoneDragUpText],"ant-upload-text px-4 text-balance"])},"Click or drag files to this area to upload and encrypt its content",2),s("p",{class:n([[o(l).dropZoneDragDownText],"ant-upload-hint px-4 text-balance"])},"Maximum file size allowed per file is 1GB",2),pe.value!="0 B"?(u(),m("p",Lt,[s("strong",{class:n([[o(l).dropZoneTotalSizeScope],"rounded-full px-4 py-0.5 ml-2"])},x(pe.value)+" total in "+x(b.value.length)+" "+x(b.value.length===1?"file":"files"),3)])):_("",!0)])]),_:1},8,["class","fileList"]),s("div",Dt,[s("div",Zt,[s("div",$t,[r(o(ut),{value:y.value,"onUpdate:value":a[2]||(a[2]=t=>y.value=t),options:je.value,"popup-class-name":`${o(l).scopeSelector} z-0`,class:"w-full",onSelect:Ue},{default:p(()=>[r(o(pt),{value:y.value,"onUpdate:value":a[1]||(a[1]=t=>y.value=t),placeholder:"Search files...",class:n([[o(l).scopeSelector],"w-full text-sm"]),"enter-button":"Search"},{prefix:p(()=>[r(o(h),{icon:o(Q),class:n([[o(l).dropZoneInputIcon],"mx-1"])},null,8,["icon","class"])]),_:1},8,["value","class"])]),_:1},8,["value","options","popup-class-name"])]),s("div",Mt,[s("div",{class:n([[o(l).dropZoneViewToggle],"flex rounded-md border overflow-hidden h-8 flex-1 lg:flex-none"])},[s("button",{onClick:a[3]||(a[3]=t=>ae("grid")),class:n(["px-3 py-1 text-sm transition-colors h-full flex items-center justify-center flex-1",Z.value==="grid"?o(l).dropZoneViewButtonActive:o(l).dropZoneViewButtonInactive]),title:"Grid View"},[r(o(h),{icon:o(vt),class:"w-4 h-4"},null,8,["icon"])],2),s("button",{onClick:a[4]||(a[4]=t=>ae("list")),class:n(["px-3 py-1 text-sm transition-colors h-full flex items-center justify-center flex-1",Z.value==="list"?o(l).dropZoneViewButtonActive:o(l).dropZoneViewButtonInactive]),title:"List View"},[r(o(h),{icon:o(ft),class:"w-4 h-4"},null,8,["icon"])],2)],2),r(o(ct),{value:M.value,"onUpdate:value":a[5]||(a[5]=t=>M.value=t),class:n([[o(l).scopeSelector,o(l).dropZoneSortSelect],"h-8 flex-1 lg:flex-none rounded-md lg:w-auto min-w-[140px] transition duration-150"]),"popup-class-name":`${o(l).scopeSelector} z-0`,"show-search":!1},{suffixIcon:p(()=>[r(o(h),{icon:o(xt),class:"w-4 h-4"},null,8,["icon"])]),default:p(()=>[r(o(K),{value:"name"},{default:p(()=>a[6]||(a[6]=[E("Sort by Name")])),_:1,__:[6]}),r(o(K),{value:"size"},{default:p(()=>a[7]||(a[7]=[E("Sort by Size")])),_:1,__:[7]}),r(o(K),{value:"date"},{default:p(()=>a[8]||(a[8]=[E("Sort by Date")])),_:1,__:[8]})]),_:1},8,["value","class","popup-class-name"]),s("button",{onClick:ze,class:n([[o(l).dropZoneSortButton],"px-2 py-1 border rounded-md transition-colors h-8 flex items-center justify-center flex-shrink-0"]),title:V.value==="asc"?"Sort Ascending":"Sort Descending"},[r(o(h),{icon:V.value==="asc"?o(wt):o(gt),class:"w-4 h-4"},null,8,["icon"])],10,Ht)])]),s("div",zt,[s("span",{class:n([o(l).dropZoneFilesCount])},[E(x(j.value.length)+" "+x(j.value.length===1?"file":"files")+" ",1),y.value?(u(),m("span",Ft,"(filtered from "+x(b.value.length)+" total)",1)):_("",!0)],2)]),s("div",null,[j.value.length===0?(u(),m("div",Tt,[r(o(dt),{class:n([o(l).dropZoneEmptyText]),description:y.value?"No encrypted files found matching your search":"No encrypted files found"},null,8,["class","description"])])):_("",!0),r(Ye,{name:"layout-switch",mode:"out-in",appear:""},{default:p(()=>[Z.value==="grid"?(u(),m("div",It,[r(he,{name:"file-reorder",tag:"div",class:"contents"},{default:p(()=>[(u(!0),m(X,null,ve(ue.value,t=>(u(),m("div",{key:t.name,class:n([[o(l).dropZoneFileDisplayer],"relative flex flex-col items-center justify-center text-center border border-dashed rounded-lg p-4 shadow-sm hover:shadow-md group transition duration-300"])},[re(t)?(u(),m("span",{key:0,class:n([[o(l).dropZoneNewBadge],"absolute left-2 top-2 text-[8px] px-1 py-0.5 rounded-full font-bold z-10"])},"NEW",2)):_("",!0),s("div",Bt,[T.value[t.name]?(u(),J(o(h),{key:0,icon:o(ge),class:n([[o(l).dropZoneLockIcon],"transition duration-300 animate-spin h-4 w-4 min-h-4 min-w-4"])},null,8,["icon","class"])):_("",!0),r(o(h),{icon:F.value[t.name]?o(Le):o(xe),class:n([[o(l).dropZoneLockIcon],"transition duration-300 h-4 w-4 min-h-4 min-w-4"])},null,8,["icon","class"])]),r(o(h),{icon:D(t.name),class:n([[o(l).dropZoneFileIcon],"h-12 w-12 min-h-12 min-w-12 transition duration-300 group-hover:scale-110"])},null,8,["icon","class"]),s("div",jt,[s("span",{class:n([[o(l).dropZoneFileText],"text-xs break-words w-full overflow-hidden text-ellipsis block text-center"]),title:t.name},x(t.name),11,Ut),s("div",Et,[s("span",{class:n([[o(l).dropZoneFileSize],"px-1 rounded-full text-[10px]"])},x(G(t.size)),3),t.modified?(u(),m("span",{key:0,class:n([[o(l).dropZoneFileSize],"px-1 rounded-full text-[10px]"]),title:ne(t.modified)},x(se(t.modified)),11,Pt)):_("",!0)])]),s("div",At,[g.value[t.name]!==void 0&&g.value[t.name]<100?(u(),J(o(ye),{key:0,percent:g.value[t.name],class:n([[o(l).scopeSelector,"a-download-bottom-progress"],"h-1 rounded-full"]),"show-info":!1,size:2,status:"active"},null,8,["percent","class"])):_("",!0)]),s("div",Rt,[s("div",{class:n(["transition-all duration-300 ease-out",c.value[t.name]?"w-full flex justify-center":"flex space-x-2"])},[fe(r(o(P),{type:"primary",onClick:i=>ie(t.name),size:"small",title:`Download ${t.name}`,class:n(["transition-all duration-300 ease-out",{"opacity-0 scale-95 pointer-events-none":c.value[t.name],"opacity-100 scale-100":!c.value[t.name]}])},{default:p(()=>[r(o(h),{icon:o(Se)},null,8,["icon"])]),_:2},1032,["onClick","title","class"]),[[we,!c.value[t.name]]]),r(o(P),{type:"dashed",onClick:i=>c.value[t.name]?de(t.name):ce(t.name),size:"small",class:n([o(l).dropZoneDeleteIcon,"transition-all duration-300 ease-out transform-gpu relative overflow-hidden",c.value[t.name]?"min-w-20 border-red-500 text-white px-2":"w-8 px-2"]),title:c.value[t.name]?`Confirm delete ${t.name}`:`Delete ${t.name}`,danger:c.value[t.name]},{default:p(()=>[s("div",Ot,[r(o(h),{icon:o(Ve),class:n(["transition-transform duration-300 flex-shrink-0 w-4 h-4",c.value[t.name]?"rotate-0":"group-hover:rotate-90"])},null,8,["icon","class"]),s("span",{class:n(["text-xs font-medium transition-all duration-300 overflow-hidden",c.value[t.name]?"opacity-100 max-w-20 ml-1.5":"opacity-0 max-w-0 ml-0"])}," Delete? ",2)])]),_:2},1032,["onClick","class","title","danger"])],2)])],2))),128))]),_:1})])):(u(),m("div",qt,[r(he,{name:"file-reorder",tag:"div",class:"space-y-2"},{default:p(()=>[(u(!0),m(X,null,ve(ue.value,t=>(u(),m("div",{key:t.name,class:n([[o(l).dropZoneFileDisplayer],"relative flex items-center gap-4 p-3 border border-dashed rounded-lg hover:shadow-md group transition duration-300"])},[re(t)?(u(),m("span",{key:0,class:n([[o(l).dropZoneNewBadge],"absolute left-2 top-2 text-[8px] px-1 py-0.5 rounded-full font-bold z-10"])},"NEW",2)):_("",!0),r(o(h),{icon:D(t.name),class:n([[o(l).dropZoneFileIcon],"h-8 w-8 min-h-8 min-w-8 flex-shrink-0"])},null,8,["icon","class"]),s("div",Gt,[s("div",Wt,[s("span",{class:n([[o(l).dropZoneFileText],"text-sm font-medium truncate"]),title:t.name},x(t.name),11,Xt),s("div",Jt,[T.value[t.name]?(u(),J(o(h),{key:0,icon:o(ge),class:n([[o(l).dropZoneLockIcon],"transition duration-300 animate-spin h-3 w-3"])},null,8,["icon","class"])):_("",!0),r(o(h),{icon:F.value[t.name]?o(Le):o(xe),class:n([[o(l).dropZoneLockIcon],"transition duration-300 h-3 w-3"])},null,8,["icon","class"])])]),s("div",Qt,[s("span",{class:n([[o(l).dropZoneFileSize],"px-1 rounded-full text-[10px]"])},x(G(t.size)),3),t.modified?(u(),m("span",{key:0,class:n([[o(l).dropZoneFileSize],"px-1 rounded-full text-[10px]"]),title:ne(t.modified)},x(se(t.modified)),11,Kt)):_("",!0)]),g.value[t.name]!==void 0&&g.value[t.name]<100?(u(),m("div",Yt,[r(o(ye),{percent:g.value[t.name],class:n([[o(l).scopeSelector,"a-download-bottom-progress"],"h-1 rounded-full"]),"show-info":!1,size:2,status:"active"},null,8,["percent","class"])])):_("",!0)]),s("div",Nt,[fe(r(o(P),{type:"primary",onClick:i=>ie(t.name),size:"small",title:`Download ${t.name}`,class:n(["transition-all duration-300 ease-out",{"opacity-0 scale-95 pointer-events-none":c.value[t.name],"opacity-100 scale-100":!c.value[t.name]}])},{default:p(()=>[r(o(h),{icon:o(Se)},null,8,["icon"])]),_:2},1032,["onClick","title","class"]),[[we,!c.value[t.name]]]),r(o(P),{type:"dashed",onClick:i=>c.value[t.name]?de(t.name):ce(t.name),size:"small",class:n([o(l).dropZoneDeleteIcon,"transition-all duration-300 ease-out transform-gpu relative overflow-hidden",c.value[t.name]?"min-w-20 border-red-500 text-white px-3":"w-8 px-2"]),title:c.value[t.name]?`Confirm delete ${t.name}`:`Delete ${t.name}`,danger:c.value[t.name]},{default:p(()=>[s("div",eo,[r(o(h),{icon:o(Ve),class:n(["transition-transform duration-300 flex-shrink-0 w-4 h-4",c.value[t.name]?"rotate-0":"group-hover:rotate-90"])},null,8,["icon","class"]),s("span",{class:n(["text-xs font-medium transition-all duration-300",c.value[t.name]?"opacity-100 ml-0":"opacity-0 w-0 -ml-1"])}," Confirm ",2)])]),_:2},1032,["onClick","class","title","danger"])])],2))),128))]),_:1})]))]),_:1})])])]),_:1},8,["mdi_icon"])]),r(nt)],2)])])],64))}}),ao=Ne(oo,[["__scopeId","data-v-daf67955"]]);function oe(f){var $;const D=($=document.getElementById(f))==null?void 0:$.textContent;if(D)try{const S=atob(D);return JSON.parse(S)}catch(S){console.error(`Error parsing data from element #${f}:`,S)}else console.error(`Element with ID '${f}' not found or is empty.`);return null}const te=oe("data-theme"),De=oe("data-common"),Ze=oe("data-settings");if(te&&De&&Ze)try{const f=et(ao),D=lt();f.use(D),f.provide("data-theme",{selectedTheme:te.selected_theme,selectedBack:te.selected_back}),f.provide("data-common",{version:De.version}),f.provide("data-settings",{userName:Ze.user_name});const $=tt();f.use($),f.mount("#app-dropzone-root")}catch(f){console.error("Error initializing the Vue app:",f)}else console.error("Required data (data-theme or data-initial) is missing or invalid.");
