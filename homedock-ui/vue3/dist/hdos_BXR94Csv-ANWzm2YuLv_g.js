import{j as y,B as C,d as v,r as u,w as I,v as T,x as A,y as N,A as B,z as e,F as c,I as L,X as j,H as t,u as a,G as x,W as R,D as m,M as g,_ as S}from"./hdos_CuoKFWGhtyMD6PE8b4uue.js";import{d as V,a as $}from"./hdos_DaRSEFpqf81ZuDgc4Rzsj.js";import{g as z,j as _}from"./hdos_f94pyex3GDMwQi9LcD0ex.js";import{_ as D}from"./hdos_vkkUrw9q2ozTqNHWlgeXU.js";import{S as U}from"./hdos_CUoe_PL_Y2Dbz-3JLGIxN.js";import"./hdos_BKPjeHGrzS47kEPOz-apr.js";import"./hdos_DaPixzywKmld_Ur82K_nj.js";import"./hdos_Dz3aTMQqM4LnOlKzV3COc.js";import"./hdos_itWSuQ2oYLgMGq-Z_V6WL.js";import"./hdos_CE1G-McAXm7G2-tH-xmrF.js";import"./hdos_BTjx4GUb_InXPN5k1Yckl.js";import"./hdos_DSogZ-918WAgvhujrpekz.js";import"./hdos_vuT7H-UC-v8aszDwotiDB.js";import"./hdos_D63Tfrq7hZ9D-jbqbBA6V.js";import"./hdos_efL_TdV8_G1tTDjV4v1UY.js";import"./hdos_7CrY5sx-657icNlWtqSaX.js";const F={class:"app-logs flex flex-col h-full overflow-hidden"},H={class:"flex-1 overflow-hidden p-5 flex flex-col"},M={class:"app-details flex items-center space-x-4 mb-4"},E={class:"flex flex-col justify-center"},X={class:"mt-3 flex items-center gap-2"},G={class:"switch-icon"},P={class:"space-y-2.5 max-w-sm"},W={class:"flex items-center gap-2"},q="docker-icons/notfound.jpg",J=y({__name:"AppLogs",props:{appName:{},data:{}},setup(w){const f=w,{themeClasses:s}=C(),i=v(()=>f.appName||f.data?.appName||"Unknown"),r=u(""),p=u(!1),n=u(null),b=z(),k=v(()=>i.value?`docker-icons/${i.value}.jpg`:q),h=async()=>{try{const l=await $.get("/api/view-container-logs",{headers:{"X-HomeDock-CSRF-Token":b.value},params:{containerName:i.value}});l.data?.logs&&l.data.logs.trim()!==""?r.value=l.data.logs:r.value="No logs found for this application."}catch{r.value="Failed to fetch logs for this application."}};return I(p,l=>{l?n.value=setInterval(()=>{h()},3e3):n.value&&(clearInterval(n.value),n.value=null)}),T(()=>{h()}),A(()=>{n.value&&clearInterval(n.value)}),(l,o)=>(B(),N("div",F,[e("div",H,[e("div",M,[c(j,{draggable:"false",src:k.value,alt:"App Icon",class:"app-icon w-12 h-12 min-w-12 min-h-12 rounded-xl drop-shadow-md ring-[1px] ring-gray-500/10"},null,8,["src"]),e("div",E,[e("p",{class:t([[a(s).hubCardTextAppName],"app-name font-bold text-sm"])},x(i.value)+" logs",3),e("p",{class:t([[a(s).hubCardTextRepo],"app-docker-image text-xs"])},"Real-time container logs",2)])]),e("hr",{class:t([[a(s).hubSeparator],"border-0 h-px mb-4"])},null,2),L(e("textarea",{class:t([[a(s).hubTextArea],"flex-1 rounded-lg w-full font-mono text-xs resize-none p-3"]),"onUpdate:modelValue":o[0]||(o[0]=d=>r.value=d),readonly:"",placeholder:"Loading logs..."},null,2),[[R,r.value]]),e("div",X,[c(a(U),{checked:p.value,"onUpdate:checked":o[1]||(o[1]=d=>p.value=d),size:"small"},{checkedChildren:m(()=>[e("span",G,[c(a(g),{icon:a(V),class:"animate-spin"},null,8,["icon"])])]),unCheckedChildren:m(()=>[...o[2]||(o[2]=[e("span",{class:"switch-text"},"Auto",-1)])]),_:1},8,["checked"]),e("span",{class:t([[a(s).hubCardTextRepo],"text-xs"])},x(p.value?"Auto-refreshing every 3s":"Auto-refresh disabled"),3)])]),c(D,{icon:a(_),message:"Logs",info:`Viewing ${i.value}`,showHelp:!0},{help:m(()=>[e("div",P,[e("div",W,[c(a(g),{icon:a(_),class:t(["w-5 h-5",a(s).statusBarIcon])},null,8,["icon","class"]),e("h4",{class:t(["text-base font-semibold",a(s).statusBarText])},"Logs",2)]),e("div",{class:t(["text-[10px] md:text-xs space-y-2 leading-relaxed",a(s).statusBarInfo])},[...o[3]||(o[3]=[e("p",null,"View real-time logs from your applications to monitor activity and troubleshoot issues. Enable auto-refresh to automatically update the logs every 3 seconds, ensuring you always see the latest output without manual intervention. Perfect for debugging and monitoring container behavior in real-time.",-1)])],2)])]),_:1},8,["icon","info"])]))}}),de=S(J,[["__scopeId","data-v-d1df13ab"]]);export{de as default};
